(window.webpackJsonp=window.webpackJsonp||[]).push([["pf"],{"+2oP":function(t,e,i){"use strict";var n=i("I+eb"),r=i("hh1v"),o=i("6LWA"),s=i("I8vh"),a=i("UMSQ"),u=i("/GqU"),c=i("hBjN"),l=i("tiKp"),h=i("Hd5f"),p=i("rkAj"),f=h("slice"),d=p("slice",{ACCESSORS:!0,0:0,1:2}),y=l("species"),g=[].slice,m=Math.max;n({target:"Array",proto:!0,forced:!f||!d},{slice:function(t,e){var i,n,l,h=u(this),p=a(h.length),f=s(t,p),d=s(void 0===e?p:e,p);if(o(h)&&("function"!=typeof(i=h.constructor)||i!==Array&&!o(i.prototype)?r(i)&&null===(i=i[y])&&(i=void 0):i=void 0,i===Array||void 0===i))return g.call(h,f,d);for(n=new(void 0===i?Array:i)(m(d-f,0)),l=0;f<d;f++,l++)f in h&&c(n,l,h[f]);return n.length=l,n}})},"/byt":function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},"07d7":function(t,e,i){var n=i("AO7/"),r=i("busE"),o=i("sEFX");n||r(Object.prototype,"toString",o,{unsafe:!0})},"0oug":function(t,e,i){i("dG/n")("iterator")},"0rvr":function(t,e,i){var n=i("glrk"),r=i("O741");t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,i={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(i,[]),e=i instanceof Array}catch(t){}return function(i,o){return n(i),r(o),e?t.call(i,o):i.__proto__=o,i}}():void 0)},"14Sl":function(t,e,i){"use strict";i("rB9j");var n=i("busE"),r=i("0Dky"),o=i("tiKp"),s=i("kmMV"),a=i("kRJp"),u=o("species"),c=!r((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),l="$0"==="a".replace(/./,"$0"),h=o("replace"),p=!!/./[h]&&""===/./[h]("a","$0"),f=!r((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var i="ab".split(t);return 2!==i.length||"a"!==i[0]||"b"!==i[1]}));t.exports=function(t,e,i,h){var d=o(t),y=!r((function(){var e={};return e[d]=function(){return 7},7!=""[t](e)})),g=y&&!r((function(){var e=!1,i=/a/;return"split"===t&&((i={}).constructor={},i.constructor[u]=function(){return i},i.flags="",i[d]=/./[d]),i.exec=function(){return e=!0,null},i[d](""),!e}));if(!y||!g||"replace"===t&&(!c||!l||p)||"split"===t&&!f){var m=/./[d],v=i(d,""[t],(function(t,e,i,n,r){return e.exec===s?y&&!r?{done:!0,value:m.call(e,i,n)}:{done:!0,value:t.call(i,e,n)}:{done:!1}}),{REPLACE_KEEPS_$0:l,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:p}),x=v[0],_=v[1];n(String.prototype,t,x),n(RegExp.prototype,d,2==e?function(t,e){return _.call(t,this,e)}:function(t){return _.call(t,this)})}h&&a(RegExp.prototype[d],"sham",!0)}},"1E5z":function(t,e,i){var n=i("m/L8").f,r=i("UTVS"),o=i("tiKp")("toStringTag");t.exports=function(t,e,i){t&&!r(t=i?t:t.prototype,o)&&n(t,o,{configurable:!0,value:e})}},"1Pqg":function(t,e,i){},"2bsz":function(t,e,i){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}i("pNMO"),i("4Brf"),i("0oug"),i("yyme"),i("yXV3"),i("J30X"),i("4mDm"),i("oVuX"),i("+2oP"),i("ToJy"),i("pDQq"),i("brp2"),i("DQNa"),i("wLYn"),i("qePV"),i("uL8W"),i("07d7"),i("4l63"),i("JfAA"),i("PKPk"),i("3bBZ"),i("R5XZ");var r,o,s,u,c,l,h,p,f,d,y,g,m,v,x,_,b,w,S,z,M,A,k,$,C,D,P,I,R,E,T,L,O=function(t,e){return function(){return t.apply(e,arguments)}},B=function(t,e){function i(){this.constructor=t}for(var n in e)F.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},F={}.hasOwnProperty,q=[].slice;u=function(){function t(){}return t.xy="xy",t.yz="yz",t.xz="xz",t.xyz="xyz",t.identical=-1,t.right=3,t.bottom_right=4,t.bottom=5,t.bottom_left=6,t.left=7,t.top_left=0,t.top=1,t.top_right=2,t.sideLabels=["identical","right","bottom right","bottom","bottom left","left","top left","top","top right"],t.epsilon=1e-4,t.pi=Math.PI,t.two_pi=6.283185307179586,t.half_pi=1.5707963267948966,t.quarter_pi=.7853981633974483,t.one_degree=.017453292519943295,t.rad_to_deg=57.29577951308232,t.deg_to_rad=.017453292519943295,t.gravity=9.81,t.newton=.10197,t.gaussian=.3989422804014327,t}(),this.Const=u,m=function(){function t(){}return t.rotateAnchor2D=function(t,e,i){var n,r,o;return null==i&&(i=u.xy),n=e.get2D(i),[r=Math.cos(t),o=Math.sin(t),0,-o,r,0,n.x*(1-r)+n.y*o,n.y*(1-r)-n.x*o,1]},t.reflectAnchor2D=function(t,e){var i,n,r,o;return null==e&&(e=u.xy),r=t.intercept(e),i=2*Math.atan(r.slope),[n=Math.cos(i),o=Math.sin(i),0,o,-n,0,-r.yi*o,r.yi+r.yi*n,1]},t.shearAnchor2D=function(t,e,i,n){var r,o,s;return null==n&&(n=u.xy),r=i.get2D(n),[1,o=Math.tan(t),0,s=Math.tan(e),1,0,-r.y*s,-r.x*o,1]},t.scaleAnchor2D=function(t,e,i,n){var r;return null==n&&(n=u.xy),[t,0,0,0,e,0,-(r=i.get2D(n)).x*t+r.x,-r.y*e+r.y,1]},t.scale2D=function(t,e){return[t,0,0,0,e,0,0,0,1]},t.shear2D=function(t,e){return[1,Math.tan(t),0,Math.tan(e),1,0,0,0,1]},t.rotate2D=function(t,e){return[t,e,0,-e,t,0,0,0,1]},t.translate2D=function(t,e){return[1,0,0,0,1,0,t,e,1]},t.transform2D=function(t,e,i,n){var r,o,s;return null==i&&(i=u.xy),null==n&&(n=!1),o=(r=t.get2D(i)).x*e[0]+r.y*e[3]+e[6],s=r.x*e[1]+r.y*e[4]+e[7],r.x=o,r.y=s,r=r.get2D(i,!0),n?r:(t.set(r),t)},t}(),this.Matrix=m,T=function(){function t(){}return t.toRadian=function(t){return t*u.deg_to_rad},t.toDegree=function(t){return t*u.rad_to_deg},t.toHexColor=function(t){var e;return 1===(e=Math.floor(t).toString(16)).length?"0"+e:e},t.toRGBColor=function(t,e,i){var n,r,o;return null==e&&(e=!1),null==i&&(i=1),"#"===t[0]&&(t=t.substr(1)),3===t.length?(o=parseInt(t[0]+t[0],16),r=parseInt(t[1]+t[1],16),n=parseInt(t[2]+t[2],16)):t.length>=6?(o=parseInt(t[0]+t[1],16),r=parseInt(t[2]+t[3],16),n=parseInt(t[4]+t[5],16)):(o=0,r=0,n=0),e?"rgba("+o+","+r+","+n+","+i+")":[o,r,n,i]},t.bound=function(t,e,i){var n,r;return null==i&&(i=!1),(n=t%e)>(r=e/2)?n-=e:-r>n&&(n+=e),i&&0>n?n+e:n},t.boundAngle=function(e,i){return t.bound(e,360,i)},t.boundRadian=function(e,i){return t.bound(e,u.two_pi,i)},t.boundingBox=function(t,e){var i,n,r,o,s;for(null==e&&(e=!1),o=new S(Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY),r=new S(Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY),i=0,n=t.length;n>i;i++)(s=t[i]).x<o.x&&(o.x=s.x),s.y<o.y&&(o.y=s.y),s.x>r.x&&(r.x=s.x),s.y>r.y&&(r.y=s.y),e&&(s.z<o.z&&(o.z=s.z),s.z>r.z&&(r.z=s.z));return new A(o).to(r)},t.lerp=function(t,e,i){return(1-i)*t+i*e},t.centroid=function(t){var e,i,n,r;for(i=new L,e=0,n=t.length;n>e;e++)r=t[e],i.add(r);return i.divide(t.length)},t.same=function(t,e,i){return null==i&&(i=u.epsilon),Math.abs(t-e)<i},t.within=function(t,e,i){return t>=Math.min(e,i)&&t<=Math.max(e,i)},t.randomRange=function(t,e){var i;return null==e&&(e=0),i=t>e?t-e:e-t,t+Math.random()*i},t.mixin=function(t,e){var i;for(i in e)e[i],e.hasOwnProperty(i)&&(t.prototype[i]=e[i]);return t},t.extend=function(t,e){return t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t},t.clonePoints=function(t){var e,i,n,r;for(r=[],e=0,i=t.length;i>e;e++)n=t[e],r.push(n.clone());return r},t.contextRotateOrigin=function(t,e,i,n,r){var o;return null==n&&(n=!1),o=e.size(),n||(n=o.$multiply(.5)).add(e),r&&(r.size(),f.rect(t,r),t.clip()),t.translate(n.x,n.y),t.rotate(i),t.translate(-n.x,-n.y)},t.sinCosTable=function(){var t,e,i,n;for(e=[],n=[],i=t=0;360>=t;i=t+=1)e[i]=Math.cos(i*Math.PI/180),n[i]=Math.sin(i*Math.PI/180);return{sin:n,cos:e}},t.chance=function(t){return Math.random()<t},t.gaussian=function(t,e,i){return null==e&&(e=0),null==i&&(i=1),t=(t-e)/i,u.gaussian*Math.exp(-.5*t*t)/i},t}(),this.Util=T,I=function(){function t(t){null==t&&(t=1e3),this.duration=t,this._time=0,this._ease=function(t,e,i,n){return t/n},this._intervalID=-1}return t.prototype.start=function(t){var e;return e=Math.min(Date.now()-this._time,this.duration),t||e>=this.duration?this._time=Date.now():void 0},t.prototype.setEasing=function(t){return this._ease=t},t.prototype.check=function(){var t;return t=Math.min(Date.now()-this._time,this.duration),this._ease(t,0,1,this.duration)},t.prototype.track=function(t){var e;return clearInterval(this._intervalID),this.start(!0),e=this,this._intervalID=setInterval((function(){var i;return i=e.check(),t(i),i>=1?clearInterval(e._intervalID):void 0}),25),this._intervalID},t}(),this.Timer=I,D=function(){function t(t){null==t&&(t="space"),this.id=t,this.size=new L,this.center=new L,this._timePrev=0,this._timeDiff=0,this._timeEnd=-1,this.items={},this._animID=-1,this._animCount=0,this._animPause=!1,this._refresh=!0}return t.prototype.refresh=function(t){return this._refresh=t,this},t.prototype.render=function(t){return this},t.prototype.resize=function(t,e){},t.prototype.clear=function(){},t.prototype.add=function(t){var e;if(null==t.animate||"function"!=typeof t.animate)throw"a player object for Space.add must define animate()";return e=this._animCount++,this.items[e]=t,t.animateID=e,null!=t.onSpaceResize&&t.onSpaceResize(this.size.x,this.size.y),this},t.prototype.remove=function(t){return delete this.items[t.animateID],this},t.prototype.removeAll=function(){return this.items={},this},t.prototype.play=function(t){var e;if(null==t&&(t=0),this._animID=requestAnimationFrame(function(t){return function(e){return t.play(e)}}(this)),!this._animPause){this._timeDiff=t-this._timePrev;try{this._playItems(t)}catch(t){throw e=t,cancelAnimationFrame(this._animID),console.error(e.stack),e}return this._timePrev=t,this}},t.prototype._playItems=function(t){var e,i;for(e in this._refresh&&this.clear(),i=this.items)i[e].animate(t,this._timeDiff,this.ctx);return this._timeEnd>=0&&t>this._timeEnd&&cancelAnimationFrame(this._animID),this},t.prototype.pause=function(t){return null==t&&(t=!1),this._animPause=!t||!this._animPause,this},t.prototype.resume=function(){return this._animPause=!1,this},t.prototype.stop=function(t){return null==t&&(t=0),this._timeEnd=t,this},t.prototype.playTime=function(t){return null==t&&(t=5e3),this.play(),this.stop(t)},t.prototype.bindCanvas=function(t,e){return this.space.addEventListener?this.space.addEventListener(t,e):void 0},t.prototype.bindMouse=function(t){return null==t&&(t=!0),this.space.addEventListener&&this.space.removeEventListener?t?(this.space.addEventListener("mousedown",this._mouseDown.bind(this)),this.space.addEventListener("mouseup",this._mouseUp.bind(this)),this.space.addEventListener("mouseover",this._mouseOver.bind(this)),this.space.addEventListener("mouseout",this._mouseOut.bind(this)),this.space.addEventListener("mousemove",this._mouseMove.bind(this))):(this.space.removeEventListener("mousedown",this._mouseDown.bind(this)),this.space.removeEventListener("mouseup",this._mouseUp.bind(this)),this.space.removeEventListener("mouseover",this._mouseOver.bind(this)),this.space.removeEventListener("mouseout",this._mouseOut.bind(this)),this.space.removeEventListener("mousemove",this._mouseMove.bind(this))):void 0},t.prototype.bindTouch=function(t){return null==t&&(t=!0),this.space.addEventListener&&this.space.removeEventListener?t?(this.space.addEventListener("touchstart",this._mouseDown.bind(this)),this.space.addEventListener("touchend",this._mouseUp.bind(this)),this.space.addEventListener("touchmove",function(t){return function(e){return e.preventDefault(),t._mouseMove(e)}}(this)),this.space.addEventListener("touchcancel",this._mouseOut.bind(this))):(this.space.removeEventListener("touchstart",this._mouseDown.bind(this)),this.space.removeEventListener("touchend",this._mouseUp.bind(this)),this.space.removeEventListener("touchmove",this._mouseMove.bind(this)),this.space.removeEventListener("touchcancel",this._mouseOut.bind(this))):void 0},t.prototype.touchesToPoints=function(t,e){var i;return null==e&&(e="touches"),t&&t[e]?function(){var n,r,o,s;for(s=[],n=0,r=(o=t[e]).length;r>n;n++)i=o[n],s.push(new L(i.pageX-this.boundRect.left,i.pageY-this.boundRect.top));return s}.call(this):[]},t.prototype._mouseAction=function(t,e){var i,n,r,o,s,a,u,c,l;if(e.touches||e.changedTouches){for(n in u=[],s=this.items)null!=(l=s[n]).onTouchAction?(r=(i=e.changedTouches&&e.changedTouches.length>0)?e.changedTouches.item(0).pageX:0,o=i?e.changedTouches.item(0).pageY:0,u.push(l.onTouchAction(t,r,o,e))):u.push(void 0);return u}for(n in c=[],a=this.items)null!=(l=a[n]).onMouseAction?(r=e.offsetX||e.layerX,o=e.offsetY||e.layerY,c.push(l.onMouseAction(t,r,o,e))):c.push(void 0);return c},t.prototype._mouseDown=function(t){return this._mouseAction("down",t),this._mdown=!0},t.prototype._mouseUp=function(t){return this._mouseAction("up",t),this._mdrag&&this._mouseAction("drop",t),this._mdown=!1,this._mdrag=!1},t.prototype._mouseMove=function(t){return this._mouseAction("move",t),this._mdown?(this._mdrag=!0,this._mouseAction("drag",t)):void 0},t.prototype._mouseOver=function(t){return this._mouseAction("over",t)},t.prototype._mouseOut=function(t){return this._mouseAction("out",t),this._mdrag&&this._mouseAction("drop",t),this._mdrag=!1},t}(),this.Space=D,r=function(t){function e(t,i,n){null==t&&(t="pt_space"),null==i&&(i=!1),null==n&&(n="2d"),this._resizeHandler=O(this._resizeHandler,this),e.__super__.constructor.apply(this,arguments),this.space=document.querySelector("#"+this.id),this.bound=null,this.boundRect={top:0,left:0,width:0,height:0},this.pixelScale=1,this.appended=!0,this.space||(this.space=document.createElement("canvas"),this.space.setAttribute("id",this.id),this.appended=!1),this._mdown=!1,this._mdrag=!1,this.bgcolor=i,this.ctx=this.space.getContext(n)}return B(e,t),e.prototype.display=function(t,e,i){var n,r;if(null==t&&(t="#pt"),null==i&&(i=!0),!this.appended){if(this.bound=document.querySelector(t),this.boundRect=this.bound.getBoundingClientRect(),this.pixelScale=1,i&&(n=window.devicePixelRatio||1,r=this.ctx.webkitBackingStorePixelRatio||this.ctx.mozBackingStorePixelRatio||this.ctx.msBackingStorePixelRatio||this.ctx.oBackingStorePixelRatio||this.ctx.backingStorePixelRatio||1,this.pixelScale=n/r),!this.bound)throw"Cannot add canvas to element "+t;this.resize(this.boundRect.width,this.boundRect.height),this.autoResize(!0),this.space.parentNode!==this.bound&&this.bound.appendChild(this.space),this.appended=!0,setTimeout(function(){return this.space.dispatchEvent(new Event("ready")),e?e(this.boundRect.width,this.boundRect.height,this.space):void 0}.bind(this))}return this},e.prototype._resizeHandler=function(t){return this.boundRect=this.bound.getBoundingClientRect(),this.resize(this.boundRect.width,this.boundRect.height,t)},e.prototype.autoResize=function(t){return null==t&&(t=!0),t?window.addEventListener("resize",this._resizeHandler):window.removeEventListener("resize",this._resizeHandler),this},e.prototype.resize=function(t,e,i){var n,r,o;for(n in t=Math.floor(t),e=Math.floor(e),this.size.set(t,e),this.center=new L(t/2,e/2),this.boundRect.width=t,this.boundRect.height=e,this.space.width=t*this.pixelScale,this.space.height=e*this.pixelScale,this.space.style.width=t+"px",this.space.style.height=e+"px",1!==this.pixelScale&&this.ctx.scale(this.pixelScale,this.pixelScale),o=this.items)null!=(r=o[n]).onSpaceResize&&r.onSpaceResize(t,e,i);return this.render(this.ctx),this},e.prototype.clear=function(t){var e;return t&&(this.bgcolor=t),e=this.ctx.fillStyle,this.bgcolor?(this.ctx.fillStyle=this.bgcolor,this.ctx.fillRect(0,0,this.size.x,this.size.y)):this.ctx.clearRect(0,0,this.size.x,this.size.y),this.ctx.fillStyle=e,this},e.prototype.animate=function(t){var e,i;for(e in this.ctx.save(),this._refresh&&this.clear(),i=this.items)i[e].animate(t,this._timeDiff,this.ctx);return this._timeEnd>=0&&t>this._timeEnd&&cancelAnimationFrame(this._animID),this.ctx.restore(),this},e}(D),this.CanvasSpace=r,l=function(t){function e(t,i,n){null==t&&(t="pt_space"),null==i&&(i=!1),null==n&&(n="html"),this._resizeHandler=O(this._resizeHandler,this),e.__super__.constructor.apply(this,arguments),this.space=document.querySelector("#"+this.id),this.css={width:"100%",height:"100%"},this.bound=null,this.boundRect={top:0,left:0,width:0,height:0},this.appended=!0,this.space||this._createSpaceElement(),this._mdown=!1,this._mdrag=!1,this.bgcolor=i,this.ctx={}}return B(e,t),e.prototype._createSpaceElement=function(){return this.space=document.createElement("div"),this.space.setAttribute("id",this.id),this.appended=!1},e.prototype.setCSS=function(t,e,i){return null==i&&(i=!1),this.css[t]=i?e+"px":e,this},e.prototype.updateCSS=function(){var t,e,i,n;for(t in i=[],e=this.css)n=e[t],i.push(this.space.style[t]=n);return i},e.prototype.display=function(t,e){if(null==t&&(t="#pt"),!this.appended){if(this.bound=document.querySelector(t),this.boundRect=this.bound.getBoundingClientRect(),!this.bound)throw"Cannot add canvas to element "+t;this.resize(this.boundRect.width,this.boundRect.height),this.autoResize(!0),this.space.parentNode!==this.bound&&this.bound.appendChild(this.space),this.appended=!0,setTimeout(function(){return this.space.dispatchEvent(new Event("ready")),e?e(this.boundRect.width,this.boundRect.height,this.space):void 0}.bind(this))}return this},e.prototype._resizeHandler=function(t){return this.boundRect=this.bound.getBoundingClientRect(),this.resize(this.boundRect.width,this.boundRect.height,t)},e.prototype.autoResize=function(t){return null==t&&(t=!0),t?window.addEventListener("resize",this._resizeHandler):window.removeEventListener("resize",this._resizeHandler),this},e.prototype.resize=function(t,e,i){var n,r,o;for(n in this.size.set(t,e),this.center=new L(t/2,e/2),o=this.items)null!=(r=o[n]).onSpaceResize&&r.onSpaceResize(t,e,i);return this},e.prototype.clear=function(){return this.space.innerHML=""},e.prototype.animate=function(t){var e,i;for(e in i=this.items)i[e].animate(t,this._timeDiff,this.ctx);return this._timeEnd>=0&&t>this._timeEnd&&cancelAnimationFrame(this._animID),this},e.attr=function(t,e){var i,n,r;for(i in n=[],e)r=e[i],n.push(t.setAttribute(i,r));return n},e.css=function(t){var e,i,n;for(e in i="",t)(n=t[e])&&(i+=e+": "+n+"; ");return i},e}(D),this.DOMSpace=l,f=function(){function t(t){this.space=t,this.cc=t.ctx,this.cc.fillStyle="#999",this.cc.strokeStyle="#666",this.cc.lineWidth=1,this.cc.font="11px sans-serif",this.filled=!0,this.stroked=!0,this.fontSize=11,this.fontFace="sans-serif"}return t.context=function(t){var e,i;if(!(e=!(!(i=document.getElementById(t))||!i.getContext)&&i.getContext("2d")))throw"Cannot initiate canvas 2d context";return e},t.line=function(t,e){if(!e.p1)throw e.toString()+" is not a Pair";return t.beginPath(),t.moveTo(e.x,e.y),t.lineTo(e.p1.x,e.p1.y),t.stroke()},t.lines=function(e,i){var n,r,o,s;for(s=[],n=0,r=i.length;r>n;n++)o=i[n],s.push(t.line(e,o));return s},t.rect=function(t,e,i,n){if(null==i&&(i=!0),null==n&&(n=!1),!e.p1)throw""+(e.toString()===!a(v));return t.beginPath(),t.moveTo(e.x,e.y),t.lineTo(e.x,e.p1.y),t.lineTo(e.p1.x,e.p1.y),t.lineTo(e.p1.x,e.y),t.closePath(),n&&t.stroke(),i?t.fill():void 0},t.circle=function(t,e,i,n){null==i&&(i=!0),null==n&&(n=!1),t.beginPath(),t.arc(e.x,e.y,e.radius,0,u.two_pi,!1),i&&t.fill(),n&&t.stroke()},t.arc=function(t,e,i,n,r){return t.beginPath(),t.arc(e.x,e.y,i,n,r),t.stroke()},t.triangle=function(t,e,i,n){null==i&&(i=!0),null==n&&(n=!1),t.beginPath(),t.moveTo(e.x,e.y),t.lineTo(e.p1.x,e.p1.y),t.lineTo(e.p2.x,e.p2.y),t.closePath(),i&&t.fill(),n&&t.stroke()},t.point=function(t,e,i,n,r,o){var s,a,c,l;return null==i&&(i=2),null==n&&(n=!0),null==r&&(r=!1),null==o&&(o=!1),o?(t.beginPath(),t.arc(e.x,e.y,i,0,u.two_pi,!1)):(s=e.x-i,c=e.y-i,a=e.x+i,l=e.y+i,t.beginPath(),t.moveTo(s,c),t.lineTo(s,l),t.lineTo(a,l),t.lineTo(a,c),t.closePath()),n&&t.fill(),r&&t.stroke(),e},t.points=function(e,i,n,r,o,s){var a,u,c,l;for(null==n&&(n=2),null==r&&(r=!0),null==o&&(o=!1),null==s&&(s=!1),l=[],a=0,u=i.length;u>a;a++)c=i[a],l.push(t.point(e,c,n,r,o,s));return l},t.polygon=function(t,e,i,n,r){var o,s,a;if(null==i&&(i=!0),null==n&&(n=!0),null==r&&(r=!0),!(e.length<=1)){for(t.beginPath(),t.moveTo(e[0].x,e[0].y),s=o=1,a=e.length;a>o;s=o+=1)t.lineTo(e[s].x,e[s].y);i&&t.closePath(),n&&t.fill(),r&&t.stroke()}},t.curve=function(e,i){return t.polygon(e,i,!1,!1,!0)},t.text=function(t,e,i,n){return t.fillText(i,e.x,e.y,n)},t.prototype.fill=function(t){return this.cc.fillStyle=t||"transparent",this.filled=!!t,this},t.prototype.stroke=function(t,e,i){return this.cc.strokeStyle=t||"transparent",this.stroked=!!t,e&&(this.cc.lineWidth=e),i&&(this.cc.lineJoin=i),this},t.prototype.font=function(t,e){return null==e&&(e=this.fontFace),this.fontSize=t,this.cc.font=t+"px "+e,this},t.prototype.draw=function(t){return this.sketch(t)},t.prototype.sketch=function(e){return e.floor(),e instanceof o?t.circle(this.cc,e,this.filled,this.stroked):e instanceof A?t.rect(this.cc,e,this.filled,this.stroked):e instanceof R?t.triangle(this.cc,e,this.filled,this.stroked):e instanceof g||e instanceof v?t.line(this.cc,e):e instanceof z?t.polygon(this.cc,e.points):(e instanceof L||e instanceof S)&&t.point(this.cc,e),this},t.prototype.point=function(e,i,n){return null==i&&(i=2),null==n&&(n=!1),t.point(this.cc,e,i,this.filled,this.stroked,n),this},t.prototype.points=function(e,i,n){return null==i&&(i=2),null==n&&(n=!1),t.points(this.cc,e,i,this.filled,this.stroked,n),this},t.prototype.line=function(e){return t.line(this.cc,e),this},t.prototype.lines=function(e){return t.lines(this.cc,e),this},t.prototype.rect=function(e){return t.rect(this.cc,e,this.filled,this.stroked),this},t.prototype.circle=function(e){return t.circle(this.cc,e,this.filled,this.stroked),this},t.prototype.arc=function(e,i,n){return t.arc(this.cc,e,e.radius,i,n),this},t.prototype.triangle=function(e){return t.triangle(this.cc,e,this.filled,this.stroked),this},t.prototype.polygon=function(e,i){return t.polygon(this.cc,e,i,this.filled,this.stroked),this},t.prototype.curve=function(e){return t.curve(this.cc,e),this},t.prototype.text=function(t,e,i,n,r){var o;return null==i&&(i=1e3),o=new L(t),n&&o.add(n,0),r&&o.add(0,r),this.cc.fillText(e,o.x,o.y,i),this},t}(),this.Form=f,S=function(){function t(e){this.copy(t.get(arguments))}return t.get=function(t){return t.length>0?"object"==n(t[0])?t[0]instanceof Array||t[0].length>0?{x:t[0][0]||0,y:t[0][1]||0,z:t[0][2]||0}:{x:t[0].x||0,y:t[0].y||0,z:t[0].z||0}:{x:t[0]||0,y:t[1]||0,z:t[2]||0}:{x:0,y:0,z:0}},t.prototype.quadrant=function(t,e){return null==e&&(e=u.epsilon),t.near(this)?u.identical:Math.abs(t.x-this.x)<e?t.y<this.y?u.top:u.bottom:Math.abs(t.y-this.y)<e?t.x<this.x?u.left:u.right:t.y<this.y&&t.x>this.x?u.top_right:t.y<this.y&&t.x<this.x?u.top_left:t.y>this.y&&t.x<this.x?u.bottom_left:u.bottom_right},t.prototype.set=function(e){var i;return i=t.get(arguments),this.x=i.x,this.y=i.y,this.z=i.z,this},t.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},t.prototype.clone=function(){return new t(this)},t.prototype.toString=function(){return"Point "+this.x+", "+this.y+", "+this.z},t.prototype.toArray=function(){return[this]},t.prototype.get2D=function(t,e){return null==e&&(e=!1),t===u.xy?new this.__proto__.constructor(this):t===u.xz?new this.__proto__.constructor(this.x,this.z,this.y):t===u.yz?e?new this.__proto__.constructor(this.z,this.x,this.y):new this.__proto__.constructor(this.y,this.z,this.x):new this.__proto__.constructor(this)},t.prototype.min=function(e){var i;return i=t.get(arguments),this.x=Math.min(this.x,i.x),this.y=Math.min(this.y,i.y),this.z=Math.min(this.z,i.z),this},t.prototype.$min=function(e){var i;return i=t.get(arguments),new this.__proto__.constructor(Math.min(this.x,i.x),Math.min(this.y,i.y),Math.min(this.z,i.z))},t.prototype.max=function(e){var i;return i=t.get(arguments),this.x=Math.max(this.x,i.x),this.y=Math.max(this.y,i.y),this.z=Math.max(this.z,i.z),this},t.prototype.$max=function(e){var i;return i=t.get(arguments),new this.__proto__.constructor(Math.max(this.x,i.x),Math.max(this.y,i.y),Math.max(this.z,i.z))},t.prototype.equal=function(e){var i;return(i=t.get(arguments)).x===this.x&&i.y===this.y&&i.z===this.z},t.prototype.near=function(e,i){var n;return null==i&&(i=u.epsilon),n=t.get(arguments),Math.abs(n.x-this.x)<i&&Math.abs(n.y-this.y)<i&&Math.abs(n.z-this.z)<i},t.prototype.floor=function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},t.prototype.ceil=function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},t}(),this.Point=S,L=function(t){function e(){e.__super__.constructor.apply(this,arguments)}return B(e,t),e.prototype._getArgs=function(t){return"number"==typeof t[0]&&t.length>1?t:t[0]},e.prototype.add=function(t){var e;return"number"==typeof arguments[0]&&1===arguments.length?(this.x+=arguments[0],this.y+=arguments[0],this.z+=arguments[0]):(e=S.get(arguments),this.x+=e.x,this.y+=e.y,this.z+=e.z),this},e.prototype.$add=function(t){var i;return i=this._getArgs(arguments),new e(this).add(i)},e.prototype.subtract=function(t){var e;return"number"==typeof arguments[0]&&1===arguments.length?(this.x-=arguments[0],this.y-=arguments[0],this.z-=arguments[0]):(e=S.get(arguments),this.x-=e.x,this.y-=e.y,this.z-=e.z),this},e.prototype.$subtract=function(t){var i;return i=this._getArgs(arguments),new e(this).subtract(i)},e.prototype.multiply=function(t){var e;return 1===arguments.length&&("number"==typeof arguments[0]||"object"==n(arguments[0])&&1===arguments[0].length)?(this.x*=arguments[0],this.y*=arguments[0],this.z*=arguments[0]):(e=S.get(arguments),this.x*=e.x,this.y*=e.y,this.z*=e.z),this},e.prototype.$multiply=function(t){var i;return i=this._getArgs(arguments),new e(this).multiply(i)},e.prototype.divide=function(t){var e;return 1===arguments.length&&("number"==typeof arguments[0]||"object"==n(arguments[0])&&1===arguments[0].length)?(this.x/=arguments[0],this.y/=arguments[0],this.z/=arguments[0]):(e=S.get(arguments),this.x/=e.x,this.y/=e.y,this.z/=e.z),this},e.prototype.$divide=function(t){var i;return i=this._getArgs(arguments),new e(this).divide(i)},e.prototype.op=function(){var t,e,i,n,r,o;for(n=arguments[0],e=2<=arguments.length?q.call(arguments,1):[],t=0,i=(o=this.toArray()).length;i>t;t++)(r=o[t])[n].apply(r,e);return this},e.prototype.$op=function(){var t,e,i,n,r,o,s;for(r=arguments[0],e=2<=arguments.length?q.call(arguments,1):[],t=0,n=(s=(i=this.clone()).toArray()).length;n>t;t++)(o=s[t])[r].apply(o,e);return i},e.prototype.angle=function(t){var e,i;return 0===arguments.length?Math.atan2(this.y,this.x):("string"==typeof arguments[0]?(e=arguments[0],i=arguments.length>1?this.$subtract(arguments[1]).multiply(-1):void 0):(i=this.$subtract(arguments[0]).multiply(-1),e=!1),i&&!e?Math.atan2(i.y,i.x):e===u.xy?i?Math.atan2(i.y,i.x):Math.atan2(this.y,this.x):e===u.yz?i?Math.atan2(i.z,i.y):Math.atan2(this.z,this.y):e===u.xz?i?Math.atan2(i.z,i.x):Math.atan2(this.z,this.x):void 0)},e.prototype.angleBetween=function(t,e){return null==e&&(e=u.xy),T.boundRadian(this.angle(e),!0)-T.boundRadian(t.angle(e),!0)},e.prototype.magnitude=function(t){var e,i,n,r,o;return n={x:this.x*this.x,y:this.y*this.y,z:this.z*this.z},e=arguments.length>=1&&!arguments[arguments.length-1]?function(t){return t}:Math.sqrt,0===arguments.length?e(n.x+n.y+n.z):("string"==typeof arguments[0]?(i=arguments[0],o=arguments.length>1&&arguments[1]?this.$subtract(arguments[1]):void 0):(o=this.$subtract(arguments[0]),i=!1),r=o?{x:o.x*o.x,y:o.y*o.y,z:o.z*o.z}:n,o&&!i?e(r.x+r.y+r.z):i===u.xy?e(r.x+r.y):i===u.yz?e(r.y+r.z):i===u.xz?e(r.x+r.z):void 0)},e.prototype.distance=function(t,e){return null==e&&(e=u.xy),this.magnitude(e,t)},e.prototype.normalize=function(){return this.set(this.$normalize()),this},e.prototype.$normalize=function(){var t;return 0===(t=this.magnitude())?new e:new e(this.x/t,this.y/t,this.z/t)},e.prototype.abs=function(){return this.x=Math.abs(this.x),this.y=Math.abs(this.y),this.z=Math.abs(this.z),this},e.prototype.dot=function(t,e){return null==e&&(e=u.xyz),e===u.xyz?this.x*t.x+this.y*t.y+this.z*t.z:e===u.xy?this.x*t.x+this.y*t.y:e===u.yz?this.y*t.y+this.z*t.z:e===u.xz?this.x*t.x+this.z*t.z:this.x*t.x+this.y*t.y+this.z*t.z},e.prototype.projection=function(t,i){var n,r,o,s;return null==i&&(i=u.xyz),s=t.magnitude(),n=this.$normalize(),r=new e(t.x/s,t.y/s,t.z/s),o=n.dot(r,i),n.$multiply(s*o)},e.prototype.cross=function(t){return new e(this.y*t.z-this.z*t.y,this.z*t.x-this.x*t.z,this.x*t.y-this.y*t.x)},e.prototype.bisect=function(t,e){return null==e&&(e=!1),e?this.$add(t).divide(2):this.$normalize().add(t.$normalize()).divide(2)},e.prototype.perpendicular=function(t){switch(null==t&&(t=u.xy),t){case u.xy:return[new e(-this.y,this.x,this.z),new e(this.y,-this.x,this.z)];case u.yz:return[new e(this.x,-this.z,this.y),new e(this.x,this.z,-this.y)];case u.xz:return[new e(-this.z,this.y,this.x),new e(this.z,-this.y,this.x)];default:return[new e(-this.y,this.x,this.z),new e(this.y,-this.x,this.z)]}},e.prototype.isPerpendicular=function(t,e){return null==e&&(e=u.xyz),0===this.dot(t,e)},e.prototype.surfaceNormal=function(t){return this.cross(t).normalize(!0)},e.prototype.moveTo=function(t){var e,i,n,r,o;for(o=S.get(arguments),i=this.$subtract(o),e=0,n=(r=this.toArray()).length;n>e;e++)r[e].subtract(i);return this},e.prototype.moveBy=function(t){var e,i,n,r;for(i=S.get(arguments),e=0,n=(r=this.toArray()).length;n>e;e++)r[e].add(i);return this},e.prototype.rotate2D=function(t,e,i){var n,r,o,s,a;for(null==i&&(i=u.xy),e||(e=new S(0,0,0)),o=m.rotateAnchor2D(t,e,i),n=0,r=(a=this.toArray()).length;r>n;n++)s=a[n],m.transform2D(s,o,i);return this},e.prototype.reflect2D=function(t,e){var i,n,r,o,s;for(null==e&&(e=u.xy),r=m.reflectAnchor2D(t,e),i=0,n=(s=this.toArray()).length;n>i;i++)o=s[i],m.transform2D(o,r,e);return this},e.prototype.scale2D=function(t,e,i,n){var r,o,s,a,c;for(null==n&&(n=u.xy),i||(i=new S(0,0,0)),s=m.scaleAnchor2D(t,e,i,n),r=0,o=(c=this.toArray()).length;o>r;r++)a=c[r],m.transform2D(a,s,n);return this},e.prototype.shear2D=function(t,e,i,n){var r,o,s,a,c;for(null==n&&(n=u.xy),i||(i=new S(0,0,0)),s=m.shearAnchor2D(t,e,i,n),r=0,o=(c=this.toArray()).length;o>r;r++)a=c[r],m.transform2D(a,s,n);return this},e.prototype.clone=function(){return new e(this)},e.prototype.toString=function(){return"Vector "+this.x+", "+this.y+", "+this.z},e}(S),this.Vector=L,s=function(t){function e(t){e.__super__.constructor.apply(this,arguments),this.alpha=arguments.length>=4?Math.min(1,Math.max(arguments[3],0)):1,this.mode=arguments.length>=5?arguments[4]:"rgb"}return B(e,t),e.XYZ={D65:{x:95.047,y:100,z:108.883}},e.parseHex=function(t,i){var n,r;return null==i&&(i=!1),0===t.indexOf("#")&&(t=t.substr(1)),3===t.length&&(t=""+t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),8===t.length&&(this.alpha=1&t.substr(6),t=t.substring(0,6)),r=[(n=parseInt(t,16))>>16,n>>8&255,255&n],i?new e(r[0],r[1],r[2]):r},e.prototype.setMode=function(t){if((t=t.toLowerCase())!==this.mode){switch(this.mode){case"hsl":this.copy(S.get(e.HSLtoRGB(this.x,this.y,this.z)));break;case"hsb":this.copy(S.get(e.HSBtoRGB(this.x,this.y,this.z)));break;case"lab":this.copy(S.get(e.LABtoRGB(this.x,this.y,this.z)));break;case"lch":this.copy(S.get(e.LCHtoRGB(this.x,this.y,this.z)));break;case"xyz":this.copy(S.get(e.XYZtoRGB(this.x,this.y,this.z)))}switch(t){case"hsl":this.copy(S.get(e.RGBtoHSL(this.x,this.y,this.z)));break;case"hsb":this.copy(S.get(e.RGBtoHSB(this.x,this.y,this.z)));break;case"lab":this.copy(S.get(e.RGBtoLAB(this.x,this.y,this.z)));break;case"lch":this.copy(S.get(e.RGBtoLCH(this.x,this.y,this.z)));break;case"xyz":this.copy(S.get(e.RGBtoXYZ(this.x,this.y,this.z)))}}return this.mode=t,this},e.prototype.hex=function(){var t,e,i,n;return"rgb"===this.mode&&this.floor(),e=this.values("rgb"!==this.mode),t=function(t){return(t=t.toString(16)).length<2?"0"+t:t},"#"+(i=function(){var i,r,o;for(o=[],i=0,r=e.length;r>i;i++)n=e[i],o.push(t(n));return o}())[0]+i[1]+i[2]},e.prototype.rgb=function(){var t;return"rgb"===this.mode&&this.floor(),"rgb("+(t=this.values("rgb"!==this.mode))[0]+", "+t[1]+", "+t[2]+")"},e.prototype.rgba=function(){var t;return"rgb"===this.mode&&this.floor(),"rgba("+(t=this.values("rgb"!==this.mode))[0]+", "+t[1]+", "+t[2]+", "+this.alpha+")"},e.prototype.values=function(t){var i,n;if(null==t&&(t=!1),i=[this.x,this.y,this.z],t&&"rgb"!==this.mode)switch(this.mode){case"hsl":i=e.HSLtoRGB(this.x,this.y,this.z);break;case"hsb":i=e.HSBtoRGB(this.x,this.y,this.z);break;case"lab":i=e.LABtoRGB(this.x,this.y,this.z);break;case"lch":i=e.LCHtoRGB(this.x,this.y,this.z);break;case"xyz":i=e.XYZtoRGB(this.x,this.y,this.z)}return function(){var t,e,r;for(r=[],t=0,e=i.length;e>t;t++)n=i[t],r.push(Math.floor(n));return r}()},e.prototype.clone=function(){var t;return(t=new e(this.x,this.y,this.z,this.alpha)).mode=this.mode,t},e.RGBtoHSL=function(t,e,i,n,r){var o,s,a,u,c,l;if(n||(t/=255,e/=255,i/=255),l=s=((u=Math.max(t,e,i))+(c=Math.min(t,e,i)))/2,a=s,u===c)s=0,l=0;else switch(o=u-c,l=a>.5?o/(2-u-c):o/(u+c),u){case t:s=(e-i)/o+(i>e?6:0);break;case e:s=(i-t)/o+2;break;case i:s=(t-e)/o+4;break;default:s=0}return r?[s/60,l,a]:[60*s,l,a]},e.HSLtoRGB=function(t,e,i,n,r){var o,s,a,u,c,l;return 0===e?r?[1,1,1]:[255,255,255]:(n||(t/=360),l=(a=function(t,e,i){return 0>i?i+=1:i>1&&(i-=1),1>6*i?t+(e-t)*i*6:1>2*i?e:2>3*i?t+(e-t)*(2/3-i)*6:t})(u=2*i-(c=.5>=i?i*(1+e):i+e-i*e),c,t+1/3),s=a(u,c,t),o=a(u,c,t-1/3),r?[l,s,o]:[255*l,255*s,255*o])},e.RGBtoHSB=function(t,e,i,n,r){var o,s,a,u,c,l;if(n||(t/=255,e/=255,i/=255),o=(a=Math.max(t,e,i))-(u=Math.min(t,e,i)),c=0===a?0:o/a,l=a,a===u)s=0;else switch(a){case t:s=(e-i)/o+(i>e?6:0);break;case e:s=(i-t)/o+2;break;case i:s=(t-e)/o+4;break;default:s=0}return r?[s/60,c,l]:[60*s,c,l]},e.HSBtoRGB=function(t,e,i,n,r){var o,s,a,u,c,l;switch(n||(t/=360),a=i*(1-e),u=i*(1-(o=6*t-(s=Math.floor(6*t)))*e),l=i*(1-(1-o)*e),s%6){case 0:c=[i,l,a];break;case 1:c=[u,i,a];break;case 2:c=[a,i,l];break;case 3:c=[a,u,i];break;case 4:c=[l,a,i];break;case 5:c=[i,a,u];break;default:c=[0,0,0]}return r?c:[255*c[0],255*c[1],255*c[2]]},e.RGBtoLAB=function(t,i,n,r,o){var s;return r&&(t*=255,i*=255,n*=255),s=e.RGBtoXYZ(t,i,n),e.XYZtoLAB(s[0],s[1],s[2])},e.LABtoRGB=function(t,i,n,r,o){var s,a;return r&&(t*=100,i=127*(i-.5),n=127*(n-.5)),a=e.LABtoXYZ(t,i,n),s=e.XYZtoRGB(a[0],a[1],a[2]),o?[s[0]/255,s[1]/255,s[2]/255]:s},e.RGBtoLCH=function(t,i,n,r,o){var s,a;return r&&(t*=255,i*=255,n*=255),s=e.RGBtoLAB(t,i,n),a=e.LABtoLCH(s[0],s[1],s[2]),o?[a[0]/100,a[1]/100,a[2]/360]:a},e.LCHtoRGB=function(t,i,n,r,o){var s,a,u;return r&&(t*=100,i*=100,n*=360),s=e.LCHtoLAB(t,i,n),u=e.LABtoXYZ(s[0],s[1],s[2]),a=e.XYZtoRGB(u[0],u[1],u[2]),o?[a[0]/255,a[1]/255,a[2]/255]:a},e.XYZtoRGB=function(t,e,i,n,r){var o,s,a,u,c;for(n||(t/=100,e/=100,i/=100),a=o=0,u=(c=[3.2404542*t+-1.5371385*e+-.4985314*i,-.969266*t+1.8760108*e+.041556*i,.0556434*t+-.2040259*e+1.0572252*i]).length;u>o;a=++o)s=c[a],c[a]=0>s?0:Math.min(1,s>.0031308?1.055*Math.pow(s,1/2.4)-.055:12.92*s);return r?c:[Math.round(255*c[0]),Math.round(255*c[1]),Math.round(255*c[2])]},e.RGBtoXYZ=function(t,e,i,n,r){return n||(t/=255,e/=255,i/=255),t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92,e=e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92,i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92,r||(t*=100,e*=100,i*=100),[.4124564*t+.3575761*e+.1804375*i,.2126729*t+.7151522*e+.072175*i,.0193339*t+.119192*e+.9503041*i]},e.XYZtoLAB=function(t,i,n){var r,o;return t/=e.XYZ.D65.x,i/=e.XYZ.D65.y,n/=e.XYZ.D65.z,[116*(o=(r=function(t){return t>.008856?Math.pow(t,1/3):7.787*t+16/116})(i))-16,500*(r(t)-o),200*(o-r(n))]},e.LABtoXYZ=function(t,i,n){var r,o,s,a;return o=i/500+(s=(t+16)/116),a=s-n/200,r=function(t){var e;return(e=Math.pow(t,3))>.008856?e:(t-16/116)/7.787},[Math.min(e.XYZ.D65.x,e.XYZ.D65.x*r(o)),Math.min(e.XYZ.D65.y,e.XYZ.D65.y*r(s)),Math.min(e.XYZ.D65.y,e.XYZ.D65.z*r(a))]},e.XYZtoLUV=function(t,i,n){var r,o,s;return o=4*t/(t+15*i+3*n),s=9*i/(t+15*i+3*n),[r=116*(i=(i/=100)>.008856?Math.pow(i,1/3):7.787*i+16/116)-16,13*r*(o-4*e.XYZ.D65.x/(e.XYZ.D65.x+15*e.XYZ.D65.y+3*e.XYZ.D65.z)),13*r*(s-9*e.XYZ.D65.y/(e.XYZ.D65.x+15*e.XYZ.D65.y+3*e.XYZ.D65.z))]},e.LUVtoXYZ=function(t,i,n){var r,o,s;return s=(r=(s=(t+16)/116)*s*s)>.008856?r:(s-16/116)/7.787,[o=-9*(s*=100)*(i=i/(13*t)+4*e.XYZ.D65.x/(e.XYZ.D65.x+15*e.XYZ.D65.y+3*e.XYZ.D65.z))/((i-4)*(n=n/(13*t)+9*e.XYZ.D65.y/(e.XYZ.D65.x+15*e.XYZ.D65.y+3*e.XYZ.D65.z))-i*n),s,(9*s-15*n*s-n*o)/(3*n)]},e.LABtoLCH=function(t,e,i){var n;return n=(n=Math.atan2(i,e))>0?180*n/Math.PI:360-180*Math.abs(n)/Math.PI,[t,Math.sqrt(e*e+i*i),n]},e.LCHtoLAB=function(t,e,i){var n;return n=Math.PI*i/180,[t,Math.cos(n)*e,Math.sin(n)*e]},e.LUVtoLCH=function(t,e,i){return LABtoLCH(t,e,i)},e.LCHtoLUV=function(t,e,i){return LCHtoLAB(t,e,i)},e}(L),this.Color=s,o=function(t){function e(){e.__super__.constructor.apply(this,arguments),this.radius=null!=arguments[3]?arguments[3]:0}return B(e,t),e.prototype.setRadius=function(t){return this.radius=t,this},e.prototype.intersectPoint=function(t){var e;return(e=new L(S.get(arguments)).$subtract(this)).x*e.x+e.y*e.y<this.radius*this.radius},e.prototype.intersectPath=function(t,e){var i,n,r,o,s,a,c,l,h,p;return null==e&&(e=!0),!(!t instanceof v)&&(n=t.direction(),s=this.$subtract(t),i=n.dot(n,u.xy),0>(r=(a=s.dot(n,u.xy)/i)*a-(s.dot(s,u.xy)-this.radius*this.radius)/i)?!!e&&[]:!e||(h=-a+(o=Math.sqrt(r)),p=-a-o,c=new S(t.x-n.x*h,t.y-n.y*h),l=new S(t.x-n.x*p,t.y-n.y*p),0===r?[c]:[c,l]))},e.prototype.intersectLine=function(t,e){var i,n,r,o,s,a;if(null==e&&(e=!0),(a=this.intersectPath(t))&&a.length>0){for(s=[],n=t.bounds(),i=0,r=a.length;r>i;i++)if(o=a[i],A.contain(o,n,n.p1)){if(!e)return!0;s.push(o)}return e?s:s.length>0}return!!e&&[]},e.prototype.intersectLines=function(t,e){return null==e&&(e=!0),g.intersectLines(this,t,e)},e.prototype.intersectCircle=function(t,e){var i,n,r,o,s,a,u,c;return null==e&&(e=!0),s=(a=t.$subtract(this)).magnitude(!1),o=Math.sqrt(s),n=this.radius*this.radius,r=t.radius*t.radius,o>this.radius+t.radius?!!e&&[]:o<Math.abs(this.radius-t.radius)?!e||[new L(this),new L(t)]:!e||(i=(n-r+s)/(2*o),u=Math.sqrt(n-i*i),c=a.$multiply(i/o).add(this),[new L(c.x+u*a.y/o,c.y-u*a.x/o),new L(c.x-u*a.y/o,c.y+u*a.x/o)])},e.prototype.hasIntersect=function(t,i){var n,r;return null==i&&(i=!1),t instanceof e?this.intersectCircle(t,i):t instanceof A||t instanceof z||t instanceof R?this.intersectLines(t.sides(),i):t instanceof v?(r=this.intersectLine(t),i?r:r.length>0):t instanceof S?(n=t.$subtract(this)).x*n.x+n.y*n.y<this.radius*this.radius:!!i&&[]},e.prototype.toString=function(){return"Circle of "+this.radius+" radius at center "+this.x+", "+this.y+", "+this.z},e}(L),this.Circle=o,x=function(t){function e(){e.__super__.constructor.apply(this,arguments),this.id=0,this.life={age:0,maxAge:0,active:!0,complete:!1},this.momentum=new L,this.velocity=new L,this.mass=2,this.friction=0,this.frame_ms=20}return B(e,t),e.prototype.play=function(t,e){var i,n,r;for(r=0,n=[];e>0;)i=Math.min(e,this.frame_ms),this.integrate(r/1e3,i/1e3),e-=i,r+=i,n.push(this.life.age++);return n},e.prototype.integrate=function(t,e){return this.integrateRK4(t,e)},e.prototype.forces=function(t,e){return{force:new L}},e.prototype.impulse=function(t){return this.momentum.add(t),this.velocity=this.momentum.$divide(this.mass)},e.prototype._evaluate=function(t,e,i){var n,r;return null==e&&(e=0),null==i&&(i=!1),(r=0!==e&&i?{position:this.$add(i.velocity.$multiply(e)),momentum:this.momentum.$add(i.force.$multiply(e))}:{position:new L(this),momentum:new L(this.momentum)}).velocity=r.momentum.$divide(this.mass),n=this.forces(r,t+e),{velocity:r.velocity,force:n.force}},e.prototype.integrateRK4=function(t,e){var i,n,r,o,s;return i=function(t,e,i,n){return new L((t.x+2*(e.x+i.x)+n.x)/6,(t.y+2*(e.y+i.y)+n.y)/6,(t.z+2*(e.z+i.z)+n.z)/6)},n=this._evaluate(t,0),r=this._evaluate(t,.5*e,n),o=this._evaluate(t,.5*e,r),s=this._evaluate(t,e,o),this.add(i(n.velocity,r.velocity,o.velocity,s.velocity)),this.momentum.add(i(n.force,r.force,o.force,s.force))},e.prototype.integrateEuler=function(t,e){var i;return i=this.forces({position:new L(this),momentum:new L(this.momentum)},t+e),this.add(this.velocity),this.momentum.add(i.force),this.velocity=this.momentum.$divide(this.mass)},e.prototype.collideLine2d=function(t,e){var i,n,r,o,s,a,c,l,h,p,f,d,y,m,v,x,_,b,w;if(null==e&&(e=!0),s=new L(this),o=Math.abs(t.getDistanceFromPoint(s)),n=Math.abs(o)<this.radius,e&&(h=this.$add(this.velocity),l=Math.abs(t.getDistanceFromPoint(h)),(r=t.intersectLine(new g(s).to(h)))&&(h=r.$add(this.velocity.$normalize().$multiply(-this.radius/2)),l=Math.abs(t.getDistanceFromPoint(h)),n=!0)),n){if(v=t.getPerpendicularFromPoint(s),w=t.$subtract(t.p1),i=!1,!t.withinBounds(v,u.xy)){if(this.intersectPoint(t)&&(i=!0,c=this.$subtract(t)),this.intersectPoint(t.p1)&&(i=!0,c=this.$subtract(t.p1)),!i)return!1;w=new L(-c.y,c.x)}a=w.dot(this.velocity),b=(y=w.$multiply(a/w.dot(w))).$subtract(this.velocity),this.velocity=y.$add(b),this.momentum=this.velocity.$multiply(this.mass),e&&!i&&(f=new g(v).to(s),d=t.getPerpendicularFromPoint(h),x=(p=new g(v).to(d)).direction(),_=(this.radius-o)/(l-o),m=x.$multiply(_).$add(p).$add(f.direction().$normalize().$multiply(this.radius)),this.set(m.$add(this.velocity.$normalize())))}return n},e.prototype.collideWithinBounds=function(t){return this.x-this.radius<t.x||this.x+this.radius>t.p1.x?(this.x-this.radius<t.x?this.x=t.x+this.radius:this.x+this.radius>t.p1.x&&(this.x=t.p1.x-this.radius),this.velocity.x*=-1,this.momentum=this.velocity.$multiply(this.mass),!0):(this.y-this.radius<t.y||this.y+this.radius>t.p1.y)&&(this.y-this.radius<t.y?this.y=t.y+this.radius:this.y+this.radius>t.p1.y&&(this.y=t.p1.y-this.radius),this.velocity.y*=-1,this.momentum=this.velocity.$multiply(this.mass),!0)},e.prototype.collideParticle2d=function(t){return!!this.hasIntersect(t)&&e.collideParticle2d(this,t,!0)},e.collideParticle2d=function(t,e,i,n){var r,o,s,a,u,c,l,h,p,f,d,y,g,m,v,x,_;return null==i&&(i=!0),null==n&&(n=!0),f=t.$subtract(e).normalize(),g=new L(-f.y,f.x),a=f.dot(t.velocity),u=g.dot(t.velocity),c=f.dot(e.velocity),l=g.dot(e.velocity),r=(a*(t.mass-e.mass)+2*e.mass*c)/(t.mass+e.mass),o=(c*(e.mass-t.mass)+2*t.mass*a)/(t.mass+e.mass),m=f.$multiply(r),v=g.$multiply(u),x=f.$multiply(o),_=g.$multiply(l),d=m.$add(v),y=x.$add(_),n&&((h=t.magnitude(e))<t.radius+e.radius&&(s=t.$subtract(e).normalize(),p=Math.abs(h-t.radius-e.radius)/1.98,t.add(s.multiply(p)),e.add(s.multiply(-p)))),i&&(t.velocity=d,e.velocity=y,t.momentum=t.velocity.$multiply(t.mass),e.momentum=e.velocity.$multiply(e.mass)),[d,y]},e.force_gravitation=function(t,e,i,n,r){var o,s,a;return null==r&&(r=.0067),30,s=0===(a=(o=n.$subtract(t.position)).magnitude()/30)?0:e*r*i.mass*n.mass/(a*a),o.normalize().multiply(s),{force:o}},e.RK4=function(t,e,i,n,r){var o,s,a,u,c,l;return{c:t+((o=t)+2*((s=t+.5*(u=e)*n)+(a=t+.5*(c=e+.5*i(o,u,0,r)*n)*n))+(t+(l=e+.5*i(s,c,n/2,r)*n)*n))/6*n,d:e+(u+2*(c+l)+(e+i(a,l,n/2,r)*n))/6*n}},e}(o),this.Particle=x,w=function(){function t(){this.count=0,this.particles=[],this.time=0}return t.prototype.add=function(t){return t.id=this.count++,this.particles.push(t),this},t.prototype.remove=function(t){return t&&t.life&&(t.life.complete=!0),this},t.prototype.animate=function(t,e,i){var n,r,o,s,a,u,c,l,h,p;for(this.time++,n=[],s=r=0,u=(h=this.particles).length;u>r;s=++r)(l=h[s]).life.complete?n.push(s):l.life.active&&l.animate(t,e,i);if(n.length>0){for(p=[],o=0,c=n.length;c>o;o++)a=n[o],p.push(this.particles.splice(a,1));return p}},t}(),this.ParticleSystem=w,v=function(t){function e(){e.__super__.constructor.apply(this,arguments),this.p1=new L(this.x,this.y,this.z),4===arguments.length?(this.z=0,this.p1.set(arguments[2],arguments[3])):6===arguments.length&&this.p1.set(arguments[3],arguments[4],arguments[5])}return B(e,t),e.prototype.to=function(){return this.p1=new L(S.get(arguments)),this},e.prototype.getAt=function(t){return 1===t||"p1"===t?this.p1:this},e.prototype.$getAt=function(t){return new L(this.getAt(t))},e.prototype.relative=function(){return this.p1.add(this),this},e.prototype.$relative=function(){return this.$add(this.p1)},e.prototype.bounds=function(){return new e(this.$min(this.p1)).to(this.$max(this.p1))},e.prototype.withinBounds=function(t,e){var i,n;return e?(i=this.get2D(e),n=this.p1.get2D(e),i.x===n.x?t.y>=Math.min(i.y,n.y)&&t.y<=Math.max(i.y,n.y):i.y===n.y?t.x>=Math.min(i.x,n.x)&&t.x<=Math.max(i.x,n.x):t.x>=Math.min(i.x,n.x)&&t.y>=Math.min(i.y,n.y)&&t.x<=Math.max(i.x,n.x)&&t.y<=Math.max(i.y,n.y)):t.x>=Math.min(this.x,this.p1.x)&&t.y>=Math.min(this.y,this.p1.y)&&t.z>=Math.min(this.z,this.p1.z)&&t.x<=Math.max(this.x,this.p1.x)&&t.y<=Math.max(this.y,this.p1.y)&&t.z<=Math.max(this.z,this.p1.z)},e.prototype.interpolate=function(t,e){var i;return null==e&&(e=!1),i=e?this.$relative():this.p1,new L((1-t)*this.x+t*i.x,(1-t)*this.y+t*i.y,(1-t)*this.z+t*i.z)},e.prototype.midpoint=function(){return this.interpolate(.5)},e.prototype.direction=function(t){return t?this.$subtract(this.p1):this.p1.$subtract(this)},e.prototype.size=function(){return arguments.length>0?(this.p1=this.$add(S.get(arguments)),this):this.p1.$subtract(this).abs()},e.prototype.length=function(t){var e,i,n,r;return null==t&&(t=!0),r=this.z-this.p1.z,n=this.y-this.p1.y,e=(i=this.x-this.p1.x)*i+n*n+r*r,t?Math.sqrt(e):e},e.prototype.collinear=function(t){return(this.p1.x-this.x)*(t.y-this.y)-(t.x-this.x)*(this.p1.y-this.y)},e.prototype.resetBounds=function(){var t;return t=this.$min(this.p1),this.p1.set(this.$max(this.p1)),this.set(t),this},e.prototype.equal=function(t){return null==t&&(t=!1),arguments[0]instanceof e?e.__super__.equal.call(this,arguments[0])&&this.p1.equal(arguments[0].p1):e.__super__.equal.apply(this,arguments)},e.prototype.clone=function(){var t;return(t=new e(this)).to(this.p1.clone()),t},e.prototype.floor=function(){return e.__super__.floor.apply(this,arguments),this.p1.floor()},e.prototype.toString=function(){return"Pair of vectors from ("+this.x+", "+this.y+", "+this.z+") to ("+this.p1.x+", "+this.p1.y+", "+this.p1.z+")"},e.prototype.toArray=function(){return[this,this.p1]},e}(L),this.Pair=v,g=function(t){function e(){e.__super__.constructor.apply(this,arguments)}return B(e,t),e.slope=function(t,e,i){var n,r;return null==i&&(i=u.xy),n=t.get2D(i),(r=e.get2D(i)).x-n.x!=0&&(r.y-n.y)/(r.x-n.x)},e.intercept=function(t,e,i){var n,r,o,s;return null==i&&(i=u.xy),o=t.get2D(i),(s=e.get2D(i)).x-o.x!=0&&{slope:r=(s.y-o.y)/(s.x-o.x),yi:n=o.y-r*o.x,xi:0!==r&&-n/r}},e.isPerpendicularLine=function(t,i,n){var r,o;return null==n&&(n=u.xy),r=e.slope(t,t.p1,n),o=e.slope(i,i.p1,n),!1===r?0===o:!1===o?0===r:r*o==-1},e.prototype.slope=function(t){return null==t&&(t=u.xy),e.slope(this,this.p1,t)},e.prototype.intercept=function(t){return null==t&&(t=u.xy),e.intercept(this,this.p1,t)},e.prototype.getPerpendicular=function(t,i,n,r){var o,s,a;return null==i&&(i=10),null==n&&(n=!1),null==r&&(r=u.xy),s=this.direction().normalize().perpendicular(r),a=n?s[1]:s[0],(o=new e(this.interpolate(t))).to(a.multiply(i).add(o)),o},e.prototype.getDistanceFromPoint=function(t){var e,i;return i=this.$subtract(this.p1),e=new L(-i.y,i.x).normalize(),this.$subtract(t).dot(e)},e.prototype.getPerpendicularFromPoint=function(t,e){var i;return null==e&&(e=!0),i=this.p1.$subtract(this).projection(t.$subtract(this)),e?i.add(this):i},e.prototype.intersectPath=function(t,e){var i,n,r,o,s,a,c;return null==e&&(e=u.xy),i=this.intercept(e),n=t.intercept(e),o=this.get2D(e),r=t.get2D(e),!1===i?!1!==n&&(c=-n.slope*(r.x-o.x)+r.y,e===u.xy?new L(o.x,c):new L(o.x,c).get2D(e,!0)):!1===n?(c=-i.slope*(o.x-r.x)+o.y,new L(r.x,c)):n.slope!==i.slope?(s=(i.slope*o.x-n.slope*r.x+r.y-o.y)/(i.slope-n.slope),a=i.slope*(s-o.x)+o.y,e===u.xy?new L(s,a):new L(s,a).get2D(e,!0)):i.yi===n.yi&&null},e.prototype.intersectLine=function(t,e){var i;return null==e&&(e=u.xy),(i=this.intersectPath(t,e))&&this.withinBounds(i,e)&&t.withinBounds(i,e)?i:null===i&&null},e.intersectLines=function(t,e,i){var n,r,o,s,a,u,c;if(null==i&&(i=!0),!t.intersectLine)throw"No intersectLine function found in "+t.toString();for(r in c=[],e)if(a=e[r],o=t.intersectLine(a,i)){if(!i)return!0;if(o.length>0)for(n=0,s=o.length;s>n;n++)u=o[n],c.push(u)}return!!i&&c},e.prototype.intersectGridLine=function(t,e,i){var n,r,o,s;if(null==e&&(e=!1),null==i&&(i=u.xy),n=this.get2D(i),r=this.p1.get2D(i),o=t.get2D(i),s=t.p1.get2D(i),r.x-n.x==0){if(s.y-o.y==0&&T.within(n.x,o.x,s.x)&&(e||T.within(o.y,n.y,r.y)))return new L(n.x,o.y)}else{if(r.y-n.y!=0)return!1;if(s.x-o.x==0&&T.within(n.y,o.y,s.y)&&(e||T.within(o.x,n.x,r.x)))return new L(o.x,n.y)}},e.prototype.subpoints=function(t){var e,i,n,r;for(n=[],r=e=0,i=t;i>=0?i>=e:e>=i;r=i>=0?++e:--e)n.push(this.interpolate(r/t));return n},e.prototype.clone=function(t){return new e(this).to(this.p1)},e}(v),this.Line=g,A=function(t){function e(){e.__super__.constructor.apply(this,arguments),this.center=new L}return B(e,t),e.contain=function(t,e,i){return t.x>=e.x&&t.x<=i.x&&t.y>=e.y&&t.y<=i.y&&t.z>=e.z&&t.z<=i.z},e.prototype.toString=function(){var t;return t=this.size(),"Rectangle x1 "+this.x+", y1 "+this.y+", z1 "+this.z+", x2 "+this.p1.x+", y2 "+this.p1.y+", z2 "+this.p1.z+", width "+t.x+", height "+t.y},e.prototype.toPointSet=function(){var t;return t=this.corners(),new z(this).to([t.topRight,t.bottomRight,t.bottomLeft,t.topLeft])},e.prototype.to=function(t){return this.p1=new L(S.get(arguments)),this.resetBounds(),this.center=this.midpoint(),this},e.prototype.setCenter=function(t){var e;return 0===arguments.length?void(this.center=this.midpoint()):(e=this.size().$divide(2),this.center.set(S.get(arguments)),this.set(this.center.$subtract(e)),this.p1.set(this.center.$add(e)),this)},e.prototype.resizeTo=function(){return this.p1=new L(S.get(arguments)),this.relative(),this.center=this.midpoint(),this},e.prototype.resizeCenterTo=function(){var t;return t=new L(S.get(arguments)).divide(2),this.set(this.center.$subtract(t)),this.p1.set(this.center.$add(t)),this},e.prototype.enclose=function(t){return this.set(this.$min(t)),this.p1.set(this.p1.$max(t.p1)),this.center=this.midpoint(),this},e.prototype.$enclose=function(t){return this.clone().enclose(t)},e.prototype.isEnclosed=function(t){var e,i;return e=this.$subtract(t).multiply(this.p1.$subtract(t.p1)),i=this.size().subtract(t.size()),e.x<=0&&e.y<=0&&e.z<=0&&i.x*i.y>=0},e.prototype.isLarger=function(t){var e,i;return e=this.size(),i=t.size(),e.x*e.y>i.x*i.y},e.prototype.intersectPoint=function(){var t;return(t=S.get(arguments)).x>=this.x&&t.x<=this.p1.x&&t.y>=this.y&&t.y<=this.p1.y&&t.z>=this.z&&t.z<=this.p1.z},e.prototype.intersectPath=function(t,e){var i,n,r,o,s;for(null==e&&(e=!0),o=[],i=0,n=(s=this.sides()).length;n>i;i++)if((r=s[i].intersectPath(t))&&this.intersectPoint(r)){if(!e)return!0;o.push(r)}return!!e&&o},e.prototype.intersectLine=function(t,e){var i,n,r,o,s,a,u,c,l;if(null==e&&(e=!0),n=this.intersectPoint(t),r=this.intersectPoint(t.p1),n&&r&&e)return[];if(!n&&!r&&(o=t.bounds(),!this.intersectRectangle(o,!1)))return!!e&&[];for(u=[],i=0,s=(l=this.sides()).length;s>i;i++)if(c=l[i],a=t.intersectLine(c)){if(!e)return!0;u.push(a)}return!!e&&u},e.prototype.intersectLines=function(t,e){return null==e&&(e=!0),g.intersectLines(this,t,e)},e.prototype.intersectRectangle=function(t,e){var i,n,r,o,s,a,u,c,l,h,p,f,d,y;if(null==e&&(e=!0),f=this.p1.x>=t.x&&this.x<=t.p1.x,d=this.p1.y>=t.y&&this.y<=t.p1.y,y=this.p1.z>=t.z&&this.z<=t.p1.z,r=f&&d&&y,!e)return r;if(this.isEnclosed(t))return!e||[];if(!r)return[];for(h=this.sides(),p=t.sides(),u=[],i=0,o=h.length;o>i;i++)for(c=h[i],n=0,s=p.length;s>n;n++)l=p[n],(a=c.intersectGridLine(l))&&u.push(a);return u},e.prototype.hasIntersect=function(t,i){return null==i&&(i=!1),t instanceof o?t.intersectLines(this.sides(),i):t instanceof e?this.intersectRectangle(t,i):t instanceof z||t instanceof R?this.intersectLines(t.sides(),i):t instanceof v?this.intersectLine(t,i):t instanceof S?e.contain(t,this,this.p1):!!i&&[]},e.prototype.corners=function(){return{topLeft:new L(Math.min(this.x,this.p1.x),Math.min(this.y,this.p1.y),Math.max(this.z,this.p1.z)),topRight:new L(Math.max(this.x,this.p1.x),Math.min(this.y,this.p1.y),Math.min(this.z,this.p1.z)),bottomLeft:new L(Math.min(this.x,this.p1.x),Math.max(this.y,this.p1.y),Math.max(this.z,this.p1.z)),bottomRight:new L(Math.max(this.x,this.p1.x),Math.max(this.y,this.p1.y),Math.min(this.z,this.p1.z))}},e.prototype.sides=function(){var t;return t=this.corners(),[new g(t.topLeft).to(t.topRight),new g(t.topRight).to(t.bottomRight),new g(t.bottomRight).to(t.bottomLeft),new g(t.bottomLeft).to(t.topLeft)]},e.prototype.quadrants=function(){var t;return t=this.corners(),{topLeft:new this.__proto__.constructor(t.topLeft).to(this.center),topRight:new this.__proto__.constructor(t.topRight).to(this.center),bottomLeft:new this.__proto__.constructor(t.bottomLeft).to(this.center),bottomRight:new this.__proto__.constructor(t.bottomRight).to(this.center)}},e.prototype.clone=function(){var t;return(t=new e(this).to(this.p1)).to(this.p1.clone()),t},e}(v),this.Rectangle=A,d=function(t){function e(){e.__super__.constructor.apply(this,arguments),this.cell={type:"fix-fix",size:new L},this.rows=0,this.columns=0,this.layout=[],this.cellCallback=null}return B(e,t),e.prototype.toString=function(){var t;return"Grid width "+(t=this.size()).x+", height "+t.y+", columns "+this.columns+", rows "+this.rows+", cell ("+this.cell.size.x+", "+this.cell.size.y+"), type "+this.cell.type},e.prototype.init=function(t,e,i,n){var r;return null==i&&(i="fix"),null==n&&(n="fix"),r=this.size(),this.cell.type=i+"-"+n,this.rows=e,this.columns=t,"stretch"===i?(this.cell.size.x=r.x/t,this.columns=t):"flex"===i?(this.columns=Math.round(r.x/t),this.cell.size.x=r.x/this.columns):(this.cell.size.x=t,this.columns=Math.floor(r.x/this.cell.size.x)),"stretch"===n?(this.cell.size.y=r.y/e,this.rows=e):"flex"===n?(this.rows=Math.round(r.y/e),this.cell.size.y=r.y/this.rows):(this.cell.size.y=e,this.rows=Math.floor(r.y/this.cell.size.y)),this},e.prototype.generate=function(t){return"function"==typeof t&&(this.cellCallback=t),this},e.prototype.create=function(){var t,e,i,n,r,o,s,a,u;if(!this.cellCallback)return this;for(i=t=0,a=this.columns;a>=0?a>t:t>a;i=a>=0?++t:--t)for(s=e=0,u=this.rows;u>=0?u>e:e>u;s=u>=0?++e:--e)n=this.cell.size.clone(),o=this.$add(n.$multiply(i,s)),r=this.layout.length>0&&this.layout[0].length>0&&1===this.layout[s][i],this.cellCallback(n,o,s,i,this.cell.type,r);return this},e.prototype.getCellSize=function(){return this.cell.size.clone()},e.prototype.cellToRectangle=function(t,e,i){return null==i&&(i=!1),!!(i||t>=0&&t<this.columns&&e>=0&&e<this.rows)&&new A(this.$add(this.cell.size.$multiply(t,e))).resizeTo(this.cell.size)},e.prototype.positionToCell=function(t){var e;return(e=new L(this._getArgs(arguments)).$subtract(this).$divide(this.cell.size).floor()).max(0,0).min(this.columns-1,this.rows-1),e},e.prototype.resetLayout=function(t){var e,i,n,r,o,s;for(this.layout=[],r=e=0,o=this.rows;o>=0?o>e:e>o;r=o>=0?++e:--e)for(this.layout[r]=[],n=i=0,s=this.columns;s>=0?s>i:i>s;n=s>=0?++i:--i)this.layout[r][n]=0,t&&t(this,r,n);return this},e.prototype.occupy=function(t,e,i,n,r){var o,s,a,u,c,l;if(null==r&&(r=!0),this.rows<=0||this.columns<=0)return this;for(this.layout.length<1&&this.resetLayout(),a=o=0,c=i;c>=0?c>o:o>c;a=c>=0?++o:--o)for(u=s=0,l=n;l>=0?l>s:s>l;u=l>=0?++s:--s)this.layout[Math.min(this.layout.length-1,e+u)][t+a]=r?1:0;return this},e.prototype.canFit=function(t,e,i,n){var r,o,s,a,u,c,l,h,p;for(u=r=c=e,l=Math.min(this.rows,e+n);l>=c?l>r:r>l;u=l>=c?++r:--r)for(a=o=h=t,p=Math.min(this.columns,t+i);p>=h?p>o:o>p;a=p>=h?++o:--o)if(null!=(s=this.layout[u][a])&&s>0)return!1;return!0},e.prototype.fit=function(t,e){var i,n,r,o,s,a,u,c,l,h,p;for(a=Math.min(t,this.columns),c=i=0,h=this.rows;h>=0?h>i:i>h;c=h>=0?++i:--i)for(s=a,l=0,u=n=0,p=this.columns;p>=0?p>n:n>p;u=p>=0?++n:--n)if(null!=(o=this.layout[c][u])&&o>0)l++,s=a;else if(0>=--s)return this.occupy(l,c,a,e),(r=new A(this.$add(this.cell.size.$multiply(l,c)))).resizeTo(this.cell.size.$multiply(a,e)),{row:c,column:l,columnSize:a,rowSize:e,bound:r};return!1},e.prototype.neighbors=function(t,e){var i,n,r,o,s;for(o=[],i=0,n=(s=[[t-1,e-1],[t,e-1],[t+1,e-1],[t+1,e],[t+1,e+1],[t,e+1],[t-1,e+1],[t-1,e]]).length;n>i;i++)r=s[i],o.push(r[0]>=0&&r[0]<this.columns&&r[1]>=0&&r[1]<this.rows&&new L(r[0],r[1],this.layout[r[1]][r[0]]));return o},e}(A),this.Grid=d,z=function(t){function e(){e.__super__.constructor.apply(this,arguments),this.points=[]}return B(e,t),e.prototype.toString=function(){var t,e,i,n,r;for(r="PointSet [ ",t=0,e=(n=this.points).length;e>t;t++)r+=(i=n[t]).x+","+i.y+","+i.z+", ";return r+" ]"},e.prototype.toArray=function(){return this.points.slice()},e.prototype.to=function(t){var e,i,r,o;if(arguments.length>0)if(Array.isArray(arguments[0])&&arguments[0].length>0&&"object"==n(arguments[0][0]))for(e=0,i=(o=arguments[0]).length;i>e;e++)r=o[e],this.points.push(new L(r));else this.points.push(new L(S.get(arguments)));return this},e.prototype.getAt=function(t){return this.points[Math.min(this.points.length-1,Math.max(0,t))]},e.prototype.$getAt=function(t){return new L(this.getAt(t))},e.prototype.setAt=function(t,e){return this.points[t]=e,this},e.prototype.count=function(){return this.points.length},e.prototype.connectFromAnchor=function(t){var e,i,n,r;if(arguments.length>0)if(Array.isArray(arguments[0])&&arguments[0].length>0)for(e=0,i=(r=arguments[0]).length;i>e;e++)n=r[e],this.points.push(this.$add(n));else this.points.push(this.$add(S.get(arguments)));return this},e.prototype.disconnect=function(t){return null==t&&(t=-1),this.points=0>t?this.points.slice(0,this.points.length+t):this.points.slice(t+1),this},e.prototype.clear=function(){return this.points=[],this},e.prototype.sides=function(t){var e,i,n,r,o,s;for(null==t&&(t=!0),i=null,s=[],e=0,n=(o=this.points).length;n>e;e++)r=o[e],i&&s.push(new g(i).to(r)),i=r;return this.points.length>1&&t&&s.push(new g(i).to(this.points[0])),s},e.prototype.angles=function(t){var e,i,n,r,o,s;for(null==t&&(t=u.xy),i=[],n=e=1,r=this.points.length-1;r>e;n=e+=1)o=this.points[n-1].$subtract(this.points[n]),s=this.points[n+1].$subtract(this.points[n]),i.push({p0:this.points[n-1],p1:this.points[n],p2:this.points[n+1],angle:o.angleBetween(s)});return i},e.prototype.bounds=function(){return T.boundingBox(this.points)},e.prototype.centroid=function(){return T.centroid(this.points)},e.prototype.convexHull=function(t){var e,i,n,r,o;if(null==t&&(t=!0),this.points.length<3)return[];for(t?(o=this.points.slice()).sort((function(t,e){return t.x-e.x})):o=this.points,n=function(t,e,i){return(e.x-t.x)*(i.y-t.y)-(i.x-t.x)*(e.y-t.y)>0},e=[],n(o[0],o[1],o[2])?(e.push(o[0]),e.push(o[1])):(e.push(o[1]),e.push(o[0])),e.unshift(o[2]),e.push(o[2]),i=3;i<o.length;)if(n(r=o[i],e[0],e[1])&&n(e[e.length-2],e[e.length-1],r))i++;else{for(;!n(e[e.length-2],e[e.length-1],r);)e.pop();for(e.push(r);!n(e[0],e[1],r);)e.shift();e.unshift(r),i++}return e},e.prototype.clone=function(){return new e(this).to(T.clonePoints(this.points))},e}(L),this.PointSet=z,c=function(t){function e(){e.__super__.constructor.apply(this,arguments),this.is3D=!1}return B(e,t),e.prototype._getSteps=function(t){var e,i,n,r,o;for(o=[],n=e=0,i=t;i>=e;n=e+=1)r=n/t,o.push([r,r*r,r*r*r]);return o},e.prototype.controlPoints=function(t,e){var i,n;return null==t&&(t=0),null==e&&(e=!1),i=function(t){return function(e){return e<t.points.length-1?e:t.points.length-1}}(this),null!=(n=this.points[t]).x&&(t=e?t:t+1,{p0:n,p1:this.points[i(t++)],p2:this.points[i(t++)],p3:this.points[i(t++)]})},e.prototype.catmullRom=function(t){var e,i,n,r,o,s,a,u,c;if(null==t&&(t=10),this.points.length<2)return[];for(s=[],c=this._getSteps(t),n=this.controlPoints(0,!0),r=e=0,a=t;a>=e;r=e+=1)s.push(this.catmullRomPoint(c[r],n));for(o=0;o<this.points.length-2;)if(n=this.controlPoints(o)){for(r=i=0,u=t;u>=i;r=i+=1)s.push(this.catmullRomPoint(c[r],n));o++}return s},e.prototype.catmullRomPoint=function(t,e){var i,n,r,o,s,a,u,c,l,h;return s=t[0],a=t[1],n=1.5*(u=t[2])-2.5*a+1,r=-1.5*u+2*a+.5*s,o=.5*u-.5*a,c=(i=-.5*u+a-.5*s)*e.p0.x+n*e.p1.x+r*e.p2.x+o*e.p3.x,l=i*e.p0.y+n*e.p1.y+r*e.p2.y+o*e.p3.y,h=this.is3D?i*e.p0.z+n*e.p1.z+r*e.p2.z+o*e.p3.z:0,new S(c,l,h)},e.prototype.cardinal=function(t,e){var i,n,r,o,s,a,u,c,l;if(null==t&&(t=10),null==e&&(e=.5),this.points.length<2)return[];for(a=[],l=this._getSteps(t),r=this.controlPoints(0,!0),o=i=0,u=t;u>=i;o=i+=1)a.push(this.cardinalPoint(l[o],r,e));for(s=0;s<this.points.length-2;)if(r=this.controlPoints(s)){for(o=n=0,c=t;c>=n;o=n+=1)a.push(this.cardinalPoint(l[o],r,e));s++}return a},e.prototype.cardinalPoint=function(t,e,i){var n,r,o,s,a,u,c,l,h,p,f,d;return null==i&&(i=.5),c=t[0],l=t[1],n=i*(-1*(h=t[2])+2*l-c),r=i*(-1*h+l),o=2*h-3*l+1,s=i*(h-2*l+c),a=-2*h+3*l,u=i*(h-l),p=e.p0.x*n+e.p1.x*r+o*e.p1.x+e.p2.x*s+a*e.p2.x+e.p3.x*u,f=e.p0.y*n+e.p1.y*r+o*e.p1.y+e.p2.y*s+a*e.p2.y+e.p3.y*u,d=this.is3D?e.p0.z*n+e.p1.z*r+o*e.p1.z+e.p2.z*s+a*e.p2.z+e.p3.z*u:0,new S(p,f,d)},e.prototype.bezier=function(t){var e,i,n,r,o,s,a;if(null==t&&(t=10),this.points.length<4)return[];for(o=[],a=this._getSteps(t),r=0;r<=this.points.length-3;)if(i=this.controlPoints(r)){for(n=e=0,s=t;s>=e;n=e+=1)o.push(this.bezierPoint(a[n],i));r+=3}return o},e.prototype.bezierPoint=function(t,e){var i,n,r,o,s,a,u,c,l,h;return s=t[0],a=t[1],n=3*(u=t[2])-6*a+3*s,r=-3*u+3*a,o=u,c=(i=-1*u+3*a-3*s+1)*e.p0.x+n*e.p1.x+r*e.p2.x+o*e.p3.x,l=i*e.p0.y+n*e.p1.y+r*e.p2.y+o*e.p3.y,h=this.is3D?i*e.p0.z+n*e.p1.z+r*e.p2.z+o*e.p3.z:0,new S(c,l,h)},e.prototype.bspline=function(t,e){var i,n,r,o,s,a,u,c,l;if(null==t&&(t=10),null==e&&(e=!1),this.points.length<2)return[];for(a=[],l=this._getSteps(t),s=0;s<this.points.length-2;)if(r=this.controlPoints(s)){if(e)for(o=n=0,c=t;c>=n;o=n+=1)a.push(this.bsplineTensionPoint(l[o],r,e));else for(o=i=0,u=t;u>=i;o=i+=1)a.push(this.bsplinePoint(l[o],r));s++}return a},e.prototype.bsplinePoint=function(t,e){var i,n,r,o,s,a,u,c,l,h;return s=t[0],a=t[1],n=.5*(u=t[2])-a+.66666666666,r=-.5*u+.5*a+.5*s+.16666666666,o=.16666666666*u,c=(i=-.16666666666*u+.5*a-.5*s+.16666666666)*e.p0.x+n*e.p1.x+r*e.p2.x+o*e.p3.x,l=i*e.p0.y+n*e.p1.y+r*e.p2.y+o*e.p3.y,h=this.is3D?i*e.p0.z+n*e.p1.z+r*e.p2.z+o*e.p3.z:0,new S(c,l,h)},e.prototype.bsplineTensionPoint=function(t,e,i){var n,r,o,s,a,u,c,l,h,p,f,d;return null==i&&(i=1),c=t[0],l=t[1],r=i*(-1.5*(h=t[2])+2*l-.33333333333),o=2*h-3*l+1,s=i*(1.5*h-2.5*l+.5*c+.16666666666),a=-2*h+3*l,u=.16666666666*i*h,p=(n=i*(-.16666666666*h+.5*l-.5*c+.16666666666))*e.p0.x+r*e.p1.x+o*e.p1.x+s*e.p2.x+a*e.p2.x+u*e.p3.x,f=n*e.p0.y+r*e.p1.y+o*e.p1.y+s*e.p2.y+a*e.p2.y+u*e.p3.y,d=this.is3D?n*e.p0.z+r*e.p1.z+o*e.p1.y+s*e.p2.z+a*e.p2.z+u*e.p3.z:0,new S(p,f,d)},e}(z),this.Curve=c,R=function(t){function e(){e.__super__.constructor.apply(this,arguments),this.p1=new L(this.x-1,this.y-1,this.z),this.p2=new L(this.x+1,this.y+1,this.z)}return B(e,t),e.prototype.to=function(t){return arguments.length>0&&("object"==n(arguments[0])&&2===arguments.length?(this.p1.set(arguments[0]),this.p2.set(arguments[1])):arguments.length<6?(this.p1.set([arguments[0],arguments[1]]),this.p2.set([arguments[2],arguments[3]])):(this.p1.set([arguments[0],arguments[1],arguments[2]]),this.p2.set([arguments[3],arguments[4],arguments[5]]))),this},e.prototype.toArray=function(){return[this,this.p1,this.p2]},e.prototype.toString=function(){return"Triangle ("+this.x+", "+this.y+", "+this.z+"), ("+this.p1.x+", "+this.p1.y+", "+this.p1.z+"), ("+this.p2.x+", "+this.p2.y+", "+this.p2.z+")"},e.prototype.getAt=function(t){return 1===t||"p1"===t?this.p1:2===t||"p2"===t?this.p2:this},e.prototype.$getAt=function(t){return new L(this.getAt(t))},e.prototype.toPointSet=function(){var t;return t=new L(this),new z(t).to([t,this.p1,this.p2])},e.prototype.sides=function(){return[new g(this).to(this.p1),new g(this.p1).to(this.p2),new g(this.p2).to(this)]},e.prototype.angles=function(t){var e;return null==t&&(t=u.xy),(e=[this.p2.$subtract(this).angleBetween(this.p1.$subtract(this),t),this.$subtract(this.p1).angleBetween(this.p2.$subtract(this.p1),t)]).push(Math.PI-e[0]-e[1]),e},e.prototype.medial=function(){var t,i,n;return n=this.sides(),t=function(){var t,e,r;for(r=[],t=0,e=n.length;e>t;t++)i=n[t],r.push(i.midpoint());return r}(),new e(t[0]).to(t[1],t[2])},e.prototype.perimeter=function(){var t,e;return t=[(e=this.sides())[0].length(),e[1].length(),e[2].length()],{sides:e,value:t[0]+t[1]+t[2],lengths:t}},e.prototype.area=function(){var t,e;return t=(e=this.perimeter()).value/2,{value:Math.sqrt(t*(t-e.lengths[0])*(t-e.lengths[1])*(t-e.lengths[2])),perimeter:e}},e.prototype.oppositeSide=function(t){return"p1"===t?new g(this).to(this.p2):"p2"===t?new g(this).to(this.p1):new g(this.p1).to(this.p2)},e.prototype.adjacentSides=function(t){return"p1"===t?[new g(this.p1).to(this),new g(this.p1).to(this.p2)]:"p2"===t?[new g(this.p2).to(this),new g(this.p2).to(this.p1)]:[new g(this).to(this.p1),new g(this).to(this.p2)]},e.prototype.bisector=function(t,e,i){var n,r,o;return null==e&&(e=!1),null==i&&(i=100),n=this.adjacentSides(t),o=new L(n[0]),n[0].moveTo(0,0),n[1].moveTo(0,0),r=n[0].p1.bisect(n[1].p1),e?new g(o).to(r.multiply(i).add(o)):r},e.prototype.altitude=function(t){return"p1"===t||"p2"===t?new g(this[t]).to(this.oppositeSide(t).getPerpendicularFromPoint(this[t])):new g(this).to(this.oppositeSide().getPerpendicularFromPoint(this))},e.prototype.centroid=function(){var t,e,i;return t=this.$divide(3),e=this.p1.$divide(3),i=this.p2.$divide(3),new L(t.x+e.x+i.x,t.y+e.y+i.y,t.z+e.z+i.z)},e.prototype.orthocenter=function(){var t,e;return t=this.altitude(),e=this.altitude("p1"),t.intersectPath(e,u.xyz)},e.prototype.incenter=function(){var t,e;return t=this.bisector("p0",!0),e=this.bisector("p1",!0),t.intersectPath(e,u.xyz)},e.prototype.incircle=function(){var t,e,i;return e=this.incenter(),i=2*(t=this.area()).value/t.perimeter.value,new o(e).setRadius(i)},e.prototype.circumcenter=function(){var t,e;return t=this.medial(),{center:(e=[new g(t).to(this.$subtract(t).perpendicular()[0].$add(t)),new g(t.p1).to(this.p1.$subtract(t.p1).perpendicular()[0].$add(t.p1)),new g(t.p2).to(this.p2.$subtract(t.p2).perpendicular()[0].$add(t.p2))])[0].intersectPath(e[1],u.xyz),bisectors:e}},e.prototype.circumcircle=function(){var t,e;return t=this.circumcenter(),e=this.magnitude(t.center),new o(t.center).setRadius(e)},e.prototype.intersectPoint=function(t){var e,i,n;return n=this.sides(),(e=function(){var e,r,o;for(o=[],e=0,r=n.length;r>e;e++)i=n[e],o.push(i.collinear(t)>0);return o}())[0]===e[1]&&e[1]===e[2]},e.prototype.intersectPath=function(t,e,i){var n,r,o,s,a,c;for(null==e&&(e=!0),null==i&&(i=u.xy),s=[],n=0,r=(c=this.sides()).length;r>n;n++)if((o=(a=c[n]).intersectPath(t))&&a.withinBounds(o,i)){if(!e)return!0;s.push(o)}return!!e&&s},e.prototype.intersectLine=function(t,e,i){var n,r,o,s,a;for(null==e&&(e=!0),null==i&&(i=u.xy),a=[],n=0,o=(r=this.intersectPath(t,!0,i)).length;o>n;n++)if(s=r[n],t.withinBounds(s)){if(!e)return!0;a.push(s)}return!!e&&a},e.prototype.intersectLines=function(t,e){return null==e&&(e=!0),g.intersectLines(this,t,e)},e.prototype.intersectPath3D=function(t,e){var i,n,r,o,s,a,c,l,h,p,f;return r=this.p1.$subtract(this),o=this.p2.$subtract(this),a=(n=t.direction().normalize()).cross(o),!((i=r.dot(a))>-u.epsilon&&i<u.epsilon)&&(s=1/i,!(0>(p=(h=t.$subtract(this)).dot(a)*s)||p>1)&&(c=h.cross(r),!(0>(f=n.dot(c)*s)||f>1)&&((l=o.dot(c)*s)>u.epsilon&&(!e||[p,f,l]))))},e.prototype.intersectRectangle=function(t,e){return null==e&&(e=!0),t.intersectLines(this.sides(),e)},e.prototype.intersectCircle=function(t,e){return null==e&&(e=!0),t.intersectLines(this.sides(),e)},e.prototype.intersectTriangle=function(t,e){return null==e&&(e=!0),t.intersectLines(this.sides(),e)},e.prototype.clone=function(){return new e(this).to(this.p1,this.p2)},e}(L),this.Triangle=R,k=function(){function t(t){this.cc=t.ctx||{},this.cc.group=this.cc.group||null,this.cc.groupID="ptx",this.cc.groupCount=0,this.cc.currentID="ptx0",this.cc.style={fill:"#999",stroke:"#666","stroke-width":1,"stroke-linejoin":!1,"stroke-linecap":!1},this.cc.font="11px sans-serif",this.cc.fontSize=11,this.cc.fontFace="sans-serif"}return t._domId=0,t.prototype.fill=function(t){return this.cc.style.fill=t||!1,this},t.prototype.stroke=function(t,e,i,n){return this.cc.style.stroke=t||!1,e&&(this.cc.style["stroke-width"]=e),i&&(this.cc.style["stroke-linejoin"]=i),n&&(this.cc.style["stroke-linecap"]=i),this},t.prototype.scope=function(t,e){return null==e&&(e=!1),e&&(this.cc.group=e),this.cc.groupID=t,this.cc.groupCount=0,this.nextID(),this.cc},t.prototype.getScope=function(e){if(!e||null===e.animateID)throw"getScope()'s item must be added to a Space, and has an animateID property. Otherwise, use scope() instead.";return this.scope(t._scopeID(e))},t.prototype.nextID=function(){return this.cc.groupCount++,this.cc.currentID=this.cc.groupID+"-"+this.cc.groupCount,this.cc.currentID},t.id=function(e){return e.currentID||"p-"+t._domId++},t._scopeID=function(t){return"item"+t.animateID},t.style=function(t,e){var i,n,r;for(i in n=[],e)(r=e[i])?n.push(i+":"+r):"fill"===i?n.push("fill: none"):"stroke"===i&&n.push("stroke: none");return l.attr(t,{style:n.join(";")})},t.point=function(e,i,n,r,o,s){var a;return null==n&&(n=2),null==r&&(r=!0),null==o&&(o=!0),null==s&&(s=!1),(a=$.svgElement(e.group,s?"circle":"rect",t.id(e)))?(s?l.attr(a,{cx:i.x,cy:i.y,r:n}):l.attr(a,{x:i.x-n,y:i.y-n,width:n+n,height:n+n}),t.style(a,e.style),a):void 0},t.prototype.point=function(e,i,n){return null==i&&(i=2),null==n&&(n=!1),this.nextID(),t.point(this.cc,e,i,!0,!0,n),this},t.points=function(e,i,n,r,o,s){var a;return null==n&&(n=2),null==r&&(r=!0),null==o&&(o=!0),null==s&&(s=!1),function(){var u,c,l;for(l=[],u=0,c=i.length;c>u;u++)a=i[u],l.push(t.point(e,a,n,r,o,s));return l}()},t.prototype.points=function(t,e,i){var n,r,o;for(null==e&&(e=2),null==i&&(i=!1),n=0,r=t.length;r>n;n++)o=t[n],this.point(o,e,i);return this},t.line=function(e,i){var n;if(!i.p1)throw i.toString()+" is not a Pair";return n=$.svgElement(e.group,"line",t.id(e)),l.attr(n,{x1:i.x,y1:i.y,x2:i.p1.x,y2:i.p1.y}),t.style(n,e.style),n},t.prototype.line=function(e){return this.nextID(),t.line(this.cc,e),this},t.lines=function(e,i){var n;return function(){var r,o,s;for(s=[],r=0,o=i.length;o>r;r++)n=i[r],s.push(t.line(e,n));return s}()},t.prototype.lines=function(t){var e,i,n;for(e=0,i=t.length;i>e;e++)n=t[e],this.line(n);return this},t.rect=function(e,i,n,r){var o,s;if(null==n&&(n=!0),null==r&&(r=!0),!i.p1)throw""+(i.toString()===!a(v));return o=$.svgElement(e.group,"rect",t.id(e)),s=i.size(),l.attr(o,{x:i.x,y:i.y,width:s.x,height:s.y}),t.style(o,e.style),o},t.prototype.rect=function(e,i){var n;return null==i&&(i=!0),this.nextID(),n=i?e.bounds():e,t.rect(this.cc,n),this},t.circle=function(e,i,n,r){var o;return null==n&&(n=!0),null==r&&(r=!1),(o=$.svgElement(e.group,"circle",t.id(e)))?(l.attr(o,{cx:i.x,cy:i.y,r:i.radius}),t.style(o,e.style),o):void 0},t.prototype.circle=function(e){return this.nextID(),t.circle(this.cc,e),this},t.polygon=function(e,i,n,r,o){var s,a,u;return null==n&&(n=!0),null==r&&(r=!0),null==o&&(o=!0),!(s=$.svgElement(e.group,n?"polygon":"polyline",t.id(e)))||i.length<=1?void 0:(u=function(){var t,e,n;for(n=[],a=t=0,e=i.length;e>t;a=t+=1)n.push(i[a].x+","+i[a].y);return n}(),l.attr(s,{points:u.join(" ")}),t.style(s,e.style),s)},t.prototype.polygon=function(e,i){return this.nextID(),t.polygon(this.cc,e,i),this},t.triangle=function(e,i,n,r){return null==n&&(n=!0),null==r&&(r=!1),t.polygon(e,i.toArray())},t.prototype.triangle=function(e){return this.nextID(),t.triangle(this.cc,e),this},t.curve=function(e,i,n){return null==n&&(n=!1),t.polygon(e,i,n)},t.prototype.curve=function(e,i){return null==i&&(i=!1),this.nextID(),t.curve(this.cc,e,i),this},t.text=function(e,i,n,r,o,s){var a;return null==r&&(r=0),null==o&&(o=0),null==s&&(s=0),(a=$.svgElement(e.group,"text",t.id(e)))?(l.attr(a,{"pointer-events":"none",x:i.x,y:i.y,dx:0,dy:0}),a.textContent=n,t.style(a,{fill:e.style.fill,stroke:e.style.stroke,"font-family":e.fontFace||!1,"font-size":e.fontSize||!1}),a):void 0},t.prototype.text=function(e,i,n,r,o){return null==n&&(n=1e3),this.nextID(),t.text(this.cc,e,i,n,r,o),this},t.prototype.font=function(t,e){return null==e&&(e=!1),this.cc.fontFace=e,this.cc.fontSize=t,this.cc.font=t+"px "+e,this},t.prototype.draw=function(t){return this.sketch(t)},t.prototype.sketch=function(e){return e.floor(),e instanceof o?t.circle(this.cc,e,this.filled,this.stroked):e instanceof A?t.rect(this.cc,e,this.filled,this.stroked):e instanceof R?t.triangle(this.cc,e,this.filled,this.stroked):e instanceof g||e instanceof v?t.line(this.cc,e):e instanceof z?t.polygon(this.cc,e.points):(e instanceof L||e instanceof S)&&t.point(this.cc,e),this},t}(),this.SVGForm=k,$=function(t){function e(t,i,n){null==t&&(t="pt_space"),null==i&&(i=!1),null==n&&(n="svg"),e.__super__.constructor.apply(this,arguments),this.bg=document.createElementNS("http://www.w3.org/2000/svg","rect"),this.bg.setAttribute("id",t+"_bg"),this.bg.setAttribute("fill",i),this.space.appendChild(this.bg)}return B(e,t),e.prototype._createSpaceElement=function(){return this.space=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.space.setAttribute("id",this.id),this.appended=!1},e.svgElement=function(t,e,i){var n;if(!t||!t.appendChild)throw"parent parameter needs to be a DOM node";return(n=document.querySelector("#"+i))||((n=document.createElementNS("http://www.w3.org/2000/svg",e)).setAttribute("id",i),n.setAttribute("class",i.substring(0,i.indexOf("-"))),t.appendChild(n)),n},e.prototype.resize=function(t,e,i){var n,r,o;for(n in this.size.set(t,e),this.center=new L(t/2,e/2),this.space.setAttribute("width",t),this.space.setAttribute("height",e),this.bg.setAttribute("width",t),this.bg.setAttribute("height",e),o=this.items)null!=(r=o[n]).onSpaceResize&&r.onSpaceResize(t,e,i);return this},e.prototype.remove=function(t){var e,i,n,r;for(e=0,i=(r=this.space.querySelectorAll("."+k._scopeID(t))).length;i>e;e++)(n=r[e]).parentNode.removeChild(n);return delete this.items[t.animateID],this},e.prototype.removeAll=function(){for(;this.space.firstChild;)return this.space.removeChild(this.space.firstChild),this},e}(l),this.SVGSpace=$,p=function(){function t(){}return t.linear=function(t,e,i,n){return i*(t/=n)+e},t._linear=function(e){return t.linear(e,0,1,1)},t.quadIn=function(t,e,i,n){return i*(t/=n)*t+e},t._quadIn=function(e){return t.quadIn(e,0,1,1)},t.quadOut=function(t,e,i,n){return-i*(t/=n)*(t-2)+e},t._quadOut=function(e){return t.quadOut(e,0,1,1)},t.cubicIn=function(t,e,i,n){return i*(t/=n)*t*t+e},t._cubicIn=function(e){return t.cubicIn(e,0,1,1)},t.cubicOut=function(t,e,i,n){return i*(((t/=n)-1)*t*t+1)+e},t._cubicOut=function(e){return t.cubicOut(e,0,1,1)},t.elastic=function(t,e,i,n,r){var o,s,a;return null==r&&(r=.3),a=1.70158,s=n*r,o=i,0===t?e:1===(t/=n)?e+i:(o<Math.abs(i)?(o=i,a=s/4):a=0!==o?s/u.two_pi*Math.asin(i/o):0,o*Math.pow(2,-10*t)*Math.sin((t*n-a)*u.two_pi/s)+i+e)},t._elastic=function(e){return t.elastic(e,0,1,1)},t.bounce=function(t,e,i,n){return(t/=n)<1/2.75?7.5625*i*t*t+e:2/2.75>t?i*(7.5625*(t-=1.5/2.75)*t+.75)+e:2.5/2.75>t?i*(7.5625*(t-=2.25/2.75)*t+.9375)+e:i*(7.5625*(t-=2.625/2.75)*t+.984375)+e},t._bounce=function(e){return t.bounce(e,0,1,1)},t}(),this.Easing=p,y=function(t){function e(){e.__super__.constructor.apply(this,arguments),this.startRow=0}return B(e,t),e.prototype.resetLayout=function(){return this.layout=[],this.startRow=0},e.prototype.occupy=function(t,e,i,n){var r,o,s,a,u,c,l,h;for(s=r=u=t,c=i+t;c>=u?c>r:r>c;s=c>=u?++r:--r)for(a=o=l=e,h=n+e;h>=l?h>o:o>h;a=h>=l?++o:--o)null==this.layout[a]&&(this.layout[a]=[]),this.layout[a][s]=1;return this},e.prototype.findStartRow=function(){var t,e,i,n,r,o,s,a;for(n=this.startRow,r=t=o=this.startRow,s=this.rows;s>=o?s>t:t>s;r=s>=o?++t:--t)for(n=r,i=e=0,a=this.columns;a>=0?a>e:e>a;i=a>=0?++e:--e)if(null!=this.layout[r]&&(null==this.layout[r][i]||this.layout[r][i]<=0))return n;return n},e.prototype.fit=function(t,e){var i,n,r,o,s,a,u,c,l,h,p,f,d,y,g,m,v;for(c=Math.min(t,this.columns),h=i=d=this.startRow,y=this.rows;y>=d?y>i:i>y;h=y>=d?++i:--i)for(u=c,p=0,h+e>=this.rows&&(this.rows+=e),null==this.layout[h]&&(this.layout[h]=[]),l=n=0,g=this.columns;g>=0?g>n:n>g;l=g>=0?++n:--n)if(null!=(a=this.layout[h][l])&&a>0)p=l+1,u=c;else if(0===--u){if(o=!0,e>1)for(f=r=m=h,v=h+e;v>=m?v>r:r>v;f=v>=m?++r:--r)if(f<=this.rows&&null!=this.layout[f]&&this.layout[f][p]>0){o=!1;break}if(o)return this.occupy(p,h,c,e),h>this.startRow&&(this.startRow=this.findStartRow()),(s=new A(this.$add(this.cell.size.$multiply(p,h)))).resizeTo(this.cell.size.$multiply(c,e)),{row:h,column:p,columnSize:c,rowSize:e,bound:s}}return console.error("cannot fit "+h+" "+p+" "+t+" "+e),!1},e}(d),this.GridCascade=y,_=function(t){function e(){e.__super__.constructor.apply(this,arguments),this.system=null,this.lastTime=0,this.period=0,this.animateID=-1}return B(e,t),e.prototype.init=function(t){return this.system=t},e.prototype.frequency=function(t){return this.period=1e3/t,this},e.prototype.emit=function(){},e.prototype.animate=function(t,e,i){return t-this.lastTime>this.period?(this.emit(),this.lastTime=t):void 0},e}(L),this.ParticleEmitter=_,b=function(t){function e(){e.__super__.constructor.apply(this,arguments),this.system=void 0}return B(e,t),e.prototype.check=function(t,e){var i,n,r,o;for(null==e&&(e=!1),o=[],i=0,n=t.length;n>i;i++)r=t[i],this.hasIntersect(r)?this.work(r):o.push(r);return e?o:t},e.prototype.work=function(t){},e}(A),this.ParticleField=b,M=function(t){function e(){e.__super__.constructor.apply(this,arguments),this.quads=!1,this.items=[],this.depth=0,this.max_depth=6,this.max_items=2}return B(e,t),e.prototype.getQuads=function(t,e){var i,n,r;if(null==e&&(e=[]),this.intersectPoint(t)&&(e.push(this),this.quads))for(i in r=this.quads)(n=r[i]).intersectPoint(t)&&n.getQuads(t,e);return e},e.prototype.getItems=function(t){var e,i,n;if(this.intersectPoint(t)){if(!this.quads)return this.items;if(this.quads)for(e in n=this.quads)if((i=n[e]).intersectPoint(t))return i.getItems(t)}return[]},e.prototype.addToQuad=function(t){var e,i,n;if(!t)return-1;if(this.quads){for(i in n=this.quads)if((e=n[i].addToQuad(t))>0)return e;return-1}return!this.quads&&this.intersectPoint(t)?this.items.length>=this.max_items?this.depth<this.max_depth?(this.splitQuad(),this.addToQuad(t)):-1:(this.items.push(t),this.depth):-1},e.prototype.splitQuad=function(){var t,e,i,n,r,o,s,a,u,c,l,h;for(r in this.quads=this.quadrants(),a=this.quads)a[r].depth=this.depth+1;for(i=t=0,o=(u=this.items).length;o>t;i=++t)n=u[i],this.addToQuad(n)>this.depth&&(this.items[i]=null);for(l=[],e=0,s=(c=this.items).length;s>e;e++)h=c[e],l.push(h?void 0:this.items.splice(h,1));return l},e.prototype.resetQuad=function(){var t,e;if(this.items=[],this.quads){for(t in e=this.quads)e[t].resetQuad();return this.quads=!1}},e}(A),this.QuadTree=M,C=function(t){function e(){e.__super__.constructor.apply(this,arguments),this.bestcandidate=null,this.poisson=null,this.bound=null,this.boundsize=null}return B(e,t),e.prototype.setBounds=function(t,e){return null==e&&(e=!1),e&&this.set(t),this.bound=new A(this).size(t.size()),this},e.prototype.bestCandidateSampler=function(){return this.points=[],this.bound||(this.bound=(new A).size(500,500)),this.boundsize=this.bound.size(),this.bestcandidate={halfsize:this.boundsize.$divide(2),quartersize:this.boundsize.$divide(4),maxDist:this.boundsize.x*this.boundsize.x+this.boundsize.y*this.boundsize.y},this},e.prototype.poissonSampler=function(t){var e;return this.points=[],this.bound||(this.bound=(new A).size(500,500)),this.boundsize=this.bound.size(),e=t*Math.SQRT1_2,this.poisson={grid:[],gridWidth:Math.ceil(this.boundsize.x/e),gridHeight:Math.ceil(this.boundsize.y/e),cellSize:e,radius:t,radius2:t*t,R:3*t*t,queue:[],queueSize:0,sampleSize:0,sincos:T.sinCosTable()},this},e.prototype.sample=function(t,e){var i,n,r,o,s,a,u,c,l,h,p,f,d,y;if(null==t&&(t=10),null==e&&(e=!1),this.poisson&&"poisson"===e){if(this.poisson.sampleSize>0&&0===this.poisson.queueSize)return!1;if(!this.poisson.sampleSize)return this._poissonSample(this.bound.x+this.boundsize.x/2,this.bound.y+this.boundsize.y/2);for(;this.poisson.queueSize;){for(a=Math.floor(Math.random()*this.poisson.queueSize),f=this.poisson.queue[a],n=0,h=t;h>n;n+=1)if(i=Math.floor(360*Math.random()),l=Math.sqrt(Math.random()*this.poisson.R+this.poisson.radius2),d=f.x+l*this.poisson.sincos.cos[i],y=f.y+l*this.poisson.sincos.sin[i],d>=this.bound.x&&d<this.boundsize.x&&y>=this.bound.y&&y<this.boundsize.y&&this._poissonCheck(d,y))return this._poissonSample(d,y);this.poisson.queue[a]=this.poisson.queue[--this.poisson.queueSize],this.poisson.queue.length=this.poisson.queueSize}return!0}if(this.bestcandidate){for(o=null,s=-1,a=r=0,p=t;p>r;a=r+=1){if(c=new L(this.bound.x+this.boundsize.x*Math.random(),this.bound.y+this.boundsize.y*Math.random()),0===this.points.length){o=c;break}(u=this._bestCandidateCheck(c))>s&&(o=c,s=u)}return o&&this.points.push(o),o}},e.prototype._bestCandidateCheck=function(t){var e,i,n,r,o,s,a,u,c,l;for(e=this.bestcandidate.maxDist,s=new A(t.x-this.bestcandidate.quartersize.x,t.y-this.bestcandidate.quartersize.y).size(this.bestcandidate.halfsize.x,this.bestcandidate.halfsize.y),c=function(){var t,e,i,n;for(n=[],t=0,e=(i=this.points).length;e>t;t++)a=i[t],s.intersectPoint(a)&&n.push(a);return n}.call(this),i=0,u=c.length;u>i;i++)e>(n=(r=(l=c[i]).x-t.x)*r+(o=l.y-t.y)*o)&&(e=n);return e},e.prototype._poissonSample=function(t,e){var i;return i=new S(t,e),this.poisson.queue.push(i),this.poisson.grid[this.poisson.gridWidth*(e/this.poisson.cellSize|0)+(t/this.poisson.cellSize|0)]=i,this.poisson.sampleSize++,this.poisson.queueSize++,i},e.prototype._poissonCheck=function(t,e){var i,n,r,o,s,a,u,c,l,h,p,f,d,y;for(s=Math.floor(t/this.poisson.cellSize),c=Math.floor(e/this.poisson.cellSize),a=Math.max(s-2,0),l=Math.max(c-2,0),u=Math.min(s+3,this.poisson.gridWidth),h=Math.min(c+3,this.poisson.gridHeight),c=i=l,f=h;f>i;c=i+=1)for(p=c*this.poisson.gridWidth,s=n=a,d=u;d>n;s=n+=1)if((y=this.poisson.grid[p+s])&&(r=y.x-t)*r+(o=y.y-e)*o<this.poisson.radius2)return!1;return!0},e.bestCandidate=function(t,e,i){var n,r,o,s,a,u,c,l,h,p,f;for(null==i&&(i=10),f=t.size(),a=f.$divide(2),h=f.$divide(4),u=f.x*f.x+f.y*f.y,n=function(t){var i,n,r,o,s,c,l,p,f,d;for(i=u,c=new A(t.x-h.x,t.y-h.y).size(a.x,a.y),f=function(){var t,i,n;for(n=[],t=0,i=e.length;i>t;t++)l=e[t],c.intersetPoint(l)&&n.push(l);return n}(),n=0,p=f.length;p>n;n++)i>(r=(o=(d=f[n]).x-t.x)*o+(s=d.y-t.y)*s)&&(i=r);return i},o=null,s=-1,r=0,p=i;p>=0?p>r:r>p;p>=0?++r:--r){if(l=new L(t.x+f.x*Math.random(),t.y+f.y*Math.random()),0===e.length)return l;(c=n(l))>s&&(o=l,s=c)}return o},e}(z),this.SamplePoints=C,P=function(t){function e(){e.__super__.constructor.apply(this,arguments),this.frequency=new S,this.stripes=new S,this.method="frequency",this.mask=null}return B(e,t),e.prototype.setFrequency=function(t,e){return this.frequency=new L(t,e),this.method="frequency"},e.prototype.setStripes=function(t,e){return this.stripes=new S(t,e),this.method="stripes"},e.prototype.getStripes=function(){var t,e,i,n,r,o,s,a,u,c,l,h;for(h=this.size(),l={columns:[],rows:[]},s="frequency"===this.method?this.frequency.clone():h.$divide(this.stripes).floor(),n=h.$divide(s),i=t=0,u=s.y-1;u>=0?u>=t:t>=u;i=u>=0?++t:--t)o=n.y*i,(a=new v(0,o).to(h.x,o+n.y).add(this)).p1.add(this),l.rows.push(a);for(i=e=0,c=s.x-1;c>=0?c>=e:e>=c;i=c>=0?++e:--e)r=n.x*i,(a=new v(r,0).to(r+n.x+.5,h.y).add(this)).p1.add(this),l.columns.push(a);return l},e.prototype.getStripeLines=function(){var t,e,i,n,r,o,s,a,u,c,l,h;for(h=this.size(),l={columns:[],rows:[]},s="frequency"===this.method?this.frequency.clone():h.$divide(this.stripes).floor(),n=h.$divide(s),i=t=0,u=s.y;u>=0?u>=t:t>=u;i=u>=0?++t:--t)o=n.y*i,(a=new v(0,o).to(h.x,o).add(this)).p1.add(this),l.rows.push(a);for(i=e=0,c=s.x;c>=0?c>=e:e>=c;i=c>=0?++e:--e)r=n.x*i,(a=new v(r,0).to(r,h.y).add(this)).p1.add(this),l.columns.push(a);return l},e.prototype.setMask=function(t,e,i){var n,r;return null==i&&(i=!1),this.mask=new A(this.x,this.y),r=this.size(),i?i=this.$add(i):(n=r.$subtract(t,e).divide(2),i=new S(this.x+n.x,this.y+n.y)),this.mask.set(i.x,i.y).size(t,e)},e.prototype.anchorMask=function(){var t;return t=this.$subtract(this.mask),this.moveBy(t),this.mask.moveBy(t)},e}(A),this.StripeBound=P,E=function(t){function e(){e.__super__.constructor.apply(this,arguments),this.dragging=!1}return B(e,t),e.dragTarget=null,e.prototype.animate=function(t,e,i){return i.fillStyle="#f00",f.rect(i,this)},e.prototype.onMouseAction=function(t,i,n,r){return this.intersectPoint(i,n)&&("drag"!==t||e.dragTarget||(this.dragging=!0,e.dragTarget=this)),this.dragging&&"move"===t&&this.moveTo(i,n).moveBy(this.size().multiply(-.5)),"drop"===t?(this.dragging=!1,e.dragTarget=null):void 0},e}(A),this.UI=E,function(t){function e(){var t;e.__super__.constructor.apply(this,arguments),this.p=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,9,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],this.perm=function(){var e,i;for(i=[],t=e=0;512>e;t=++e)i.push(this.p[255&t]);return i}.call(this)}B(e,t),e.prototype.grad3=[[1,1,0],[-1,1,0],[1,-1,0],[-1,-1,0],[1,0,1],[-1,0,1],[1,0,-1],[-1,0,-1],[0,1,1],[0,-1,1],[0,1,-1],[0,-1,-1]],e.prototype.simplex=[[0,1,2,3],[0,1,3,2],[0,0,0,0],[0,2,3,1],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,2,3,0],[0,2,1,3],[0,0,0,0],[0,3,1,2],[0,3,2,1],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,3,2,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,2,0,3],[0,0,0,0],[1,3,0,2],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,3,0,1],[2,3,1,0],[1,0,2,3],[1,0,3,2],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,0,3,1],[0,0,0,0],[2,1,3,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,0,1,3],[0,0,0,0],[0,0,0,0],[0,0,0,0],[3,0,1,2],[3,0,2,1],[0,0,0,0],[3,1,2,0],[2,1,0,3],[0,0,0,0],[0,0,0,0],[0,0,0,0],[3,1,0,2],[0,0,0,0],[3,2,0,1],[3,2,1,0]],e.prototype.seed=function(t){var e,i,n,r;for(t>0&&1>t&&(t*=65536),256>(t=Math.floor(t))&&(t|=t<<8),n=[],i=e=0;255>=e;i=++e)r=1&i?this.p[i]^255&t:this.p[i]^t>>8&255,n.push(this.perm[i]=this.perm[i+256]=r);return n},e.prototype._dot=function(t,e,i){return t[0]*e+t[1]*i},e.prototype.perlin2d=function(t,e){var i,n,r,o,s,a,u,c,l,h;return null==t&&(t=this.x),null==e&&(e=this.y),i=function(t){return t*t*t*(t*(6*t-15)+10)},l=t-(n=Math.floor(t)%255),h=e-(r=Math.floor(e)%255),o=this._dot(this.grad3[(n+this.perm[r])%12],l,h),s=this._dot(this.grad3[(n+this.perm[r+1])%12],l,h-1),a=this._dot(this.grad3[(n+1+this.perm[r])%12],l-1,h),u=this._dot(this.grad3[(n+1+this.perm[r+1])%12],l-1,h-1),c=i(l),T.lerp(T.lerp(o,a,c),T.lerp(s,u,c),i(h))},e.prototype.simplex2d=function(t,e){var i,n,r,o,s,a,u,c,l,h,p,f,d,y,g,m,v,x,_,b,w,S,z,M;return null==t&&(t=this.x),null==e&&(e=this.y),y=(t+e)*(.5*(Math.sqrt(3)-1)),(_=t-((s=Math.floor(t+y))-(g=(s+(c=Math.floor(e+y)))*(i=(3-Math.sqrt(3))/6))))>(S=e-(c-g))?(a=1,l=0):(a=0,l=1),b=_-a+i,z=S-l+i,w=_-1+2*i,M=S-1+2*i,u=255&s,h=255&c,n=this.perm[u+this.perm[h]]%12,r=this.perm[u+a+this.perm[h+l]]%12,o=this.perm[u+1+this.perm[h+1]]%12,0>(m=.5-_*_-S*S)?p=0:p=(m*=m)*m*this._dot(this.grad3[n],_,S),0>(v=.5-b*b-z*z)?f=0:f=(v*=v)*v*this._dot(this.grad3[r],b,z),0>(x=.5-w*w-M*M)?d=0:d=(x*=x)*x*this._dot(this.grad3[o],w,M),70*(p+f+d)}}(L),h=function(t){function e(){e.__super__.constructor.apply(this,arguments),this.mesh=[]}return B(e,t),e.prototype.generate=function(){var t,e,i,n,r,o,s,a,c,l,h,p,f,d,y,g,m,v,x,_;if(!(this.points.length<3)){for(h=[],l=t=0,x=y=this.points.length;x>t;l=t+=1)h[l]=l;for(h.sort(function(t){return function(e,i){return t.points[i].x-t.points[e].x}}(this)),v=this.points.slice(),_=this._supertriangle(),v.push(new L(_),new L(_.p1),new L(_.p2)),m=[this._circum(y,y+1,y+2,_)],o=[],c=[],e=0,f=h.length;f>e;e++){for(n=h[e],c=[],p=m.length;p--;)r=m[p],s=v[n].x-r.circle.x,a=v[n].y-r.circle.y,s>0&&s*s>r.circle.radius*r.circle.radius?(o.push(r),m.splice(p,1)):s*s+a*a-r.circle.radius*r.circle.radius>u.epsilon||(c.push(r.i,r.j,r.j,r.k,r.k,r.i),m.splice(p,1));for(this._dedupe(c),p=c.length;p>1;)m.push(this._circum(c[--p],c[--p],n,null,v))}for(i=0,d=m.length;d>i;i++)(g=m[i]).i<y&&g.j<y&&g.k<y&&o.push(g);return this.mesh=o,this.mesh}},e.prototype._supertriangle=function(){var t,e,i,n,r,o,s,a,u;for(s=new L,r=new L,t=0,n=(u=this.points).length;n>t;t++)a=u[t],s.min(a),r.max(a);return e=r.$subtract(s),o=s.$add(r).divide(2),i=Math.max(e.x,e.y),new R(o.$subtract(20*i,i)).to(o.$add(0,20*i),o.$add(20*i,-i))},e.prototype._triangle=function(t,e,i,n){return null==n&&(n=this.points),new R(n[t]).to(n[e],n[i])},e.prototype._circum=function(t,e,i,n,r){return null==n&&(n=null),null==r&&(r=this.points),{i:t,j:e,k:i,triangle:n=n||this._triangle(t,e,i,r),circle:n.circumcircle()}},e.prototype._dedupe=function(t){var e,i,n,r,o,s;for(r=t.length;r>1;)for(i=t[--r],e=t[--r],n=r;n>1;)if(s=t[--n],e===(o=t[--n])&&i===s||e===s&&i===o){t.splice(r,2),t.splice(n,2);break}return t},e}(z),this.Delaunay=h},"3bBZ":function(t,e,i){var n=i("2oRo"),r=i("/byt"),o=i("4mDm"),s=i("kRJp"),a=i("tiKp"),u=a("iterator"),c=a("toStringTag"),l=o.values;for(var h in r){var p=n[h],f=p&&p.prototype;if(f){if(f[u]!==l)try{s(f,u,l)}catch(t){f[u]=l}if(f[c]||s(f,c,h),r[h])for(var d in o)if(f[d]!==o[d])try{s(f,d,o[d])}catch(t){f[d]=o[d]}}}},"4Brf":function(t,e,i){"use strict";var n=i("I+eb"),r=i("g6v/"),o=i("2oRo"),s=i("UTVS"),a=i("hh1v"),u=i("m/L8").f,c=i("6JNq"),l=o.Symbol;if(r&&"function"==typeof l&&(!("description"in l.prototype)||void 0!==l().description)){var h={},p=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof p?new l(t):void 0===t?l():l(t);return""===t&&(h[e]=!0),e};c(p,l);var f=p.prototype=l.prototype;f.constructor=p;var d=f.toString,y="Symbol(test)"==String(l("test")),g=/^Symbol\((.*)\)[^)]+$/;u(f,"description",{configurable:!0,get:function(){var t=a(this)?this.valueOf():this,e=d.call(t);if(s(h,t))return"";var i=y?e.slice(7,-1):e.replace(g,"$1");return""===i?void 0:i}}),n({global:!0,forced:!0},{Symbol:p})}},"4WOD":function(t,e,i){var n=i("UTVS"),r=i("ewvW"),o=i("93I0"),s=i("4Xet"),a=o("IE_PROTO"),u=Object.prototype;t.exports=s?Object.getPrototypeOf:function(t){return t=r(t),n(t,a)?t[a]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?u:null}},"4Xet":function(t,e,i){var n=i("0Dky");t.exports=!n((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},"4asr":function(t,e,i){"use strict";i.r(e),function(t){i("nwPP"),i("1Pqg"),i("lu9z");var e=i("EVdn"),n=i.n(e);i("72mB"),i("J8gt"),i("r1kq");t.$=t.jQuery=n.a}.call(this,i("yLpj"))},"4l63":function(t,e,i){var n=i("I+eb"),r=i("wg0c");n({global:!0,forced:parseInt!=r},{parseInt:r})},"4mDm":function(t,e,i){"use strict";var n=i("/GqU"),r=i("RNIs"),o=i("P4y1"),s=i("afO8"),a=i("fdAy"),u=s.set,c=s.getterFor("Array Iterator");t.exports=a(Array,"Array",(function(t,e){u(this,{type:"Array Iterator",target:n(t),index:0,kind:e})}),(function(){var t=c(this),e=t.target,i=t.kind,n=t.index++;return!e||n>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==i?{value:n,done:!1}:"values"==i?{value:e[n],done:!1}:{value:[n,e[n]],done:!1}}),"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},"5Tg+":function(t,e,i){var n=i("tiKp");e.f=n},"72mB":function(t,e,i){"use strict";(function(t){i("fbCW"),i("R5XZ"),i("ELyW"),i("lD4i");t((function(){var e;/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&(e=!0),t(window).resize((function(){s(t(".filter").first())})),e&&t("nav").css("animation","none").addClass("fixed");var i,n=t("nav").position().top,r=0;function o(e){t("nav .active").removeClass("active"),t("nav").find('[dest="'+e+'"]').addClass("active")}function s(e){var i=t(e).parent().offset().left,n=t(e).offset().left;t(".float-bar").css({left:n-i,width:t(e).innerWidth()}),t(".float-bar .row").css("left",-1*(n-i))}function a(e,i){e.each((function(){var e=t(this),n=e.attr("data-animation"),r=e.attr("data-delay");e.css({"-webkit-animation-delay":r,"-moz-animation-delay":r,"animation-delay":r});var o=i?o:e;o.waypoint((function(){e.addClass("animated").addClass(n),"gallery"===e.get(0).id&&setTimeout((function(){t("#gallery").removeClass("waypoint")}),2e3)}),{triggerOnce:!0,offset:"80%"})}))}t(window).on("scroll",(function(){var s=t(window).scrollTop(),a=s+50;t(window).height();e||(s>=n+t("nav").height()&&r<s&&t("nav").addClass("fixed"),s<n&&r>s&&t("nav").removeClass("fixed"),r=s),a>t("#home").offset().top&&o("home"),a>t("#about").offset().top&&o("about"),a>t("#portfolio").offset().top&&o("portfolio"),a>t("#blog").offset().top&&o("blog"),(a>t("#contact").offset().top||s+t(window).height()===t(document).height())&&o("contact"),clearTimeout(i),t("body").hasClass("disable-hover")||t("body").addClass("disable-hover"),i=setTimeout((function(){t("body").removeClass("disable-hover")}),500)})),t(".page-link").click((function(){var e=t(this).attr("dest");t(".link-wrap").removeClass("visible"),t("nav span").removeClass("active"),t("nav").find('[dest="'+e+'"]').addClass("active"),t("html, body").animate({scrollTop:t("#"+e).offset().top},400)})),t(".mdi-menu").click((function(){t(".link-wrap").toggleClass("visible")})),t(".blog-wrap").hover((function(){t(".blog-wrap").addClass("fade"),t(this).addClass("hover").removeClass("fade")}),(function(){t(this).removeClass("hover"),t(".blog-wrap").removeClass("fade")})),s(t(".filter").first()),t(".filter").click((function(){s(this)})),t("#gallery").mixItUp({}),setTimeout((function(){a(t(".waypoint"))}),10),t("#contact-form").submit((function(e){e.preventDefault(),t.ajax({url:"https://formspree.io/mattwilliams85@gmail.com",method:"POST",data:{message:t("form").serialize()},dataType:"json"}).done((function(e){t("#success").addClass("expand"),t("#contact-form").find("input[type=text], input[type=email], textarea").val("")}))})),t("#close").click((function(){t("#success").removeClass("expand")}))}))}).call(this,i("EVdn"))},"9d/t":function(t,e,i){var n=i("AO7/"),r=i("xrYK"),o=i("tiKp")("toStringTag"),s="Arguments"==r(function(){return arguments}());t.exports=n?r:function(t){var e,i,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),o))?i:s?r(e):"Object"==(n=r(e))&&"function"==typeof e.callee?"Arguments":n}},"AO7/":function(t,e,i){var n={};n[i("tiKp")("toStringTag")]="z",t.exports="[object z]"===String(n)},BTho:function(t,e,i){"use strict";var n=i("HAuM"),r=i("hh1v"),o=[].slice,s={},a=function(t,e,i){if(!(e in s)){for(var n=[],r=0;r<e;r++)n[r]="a["+r+"]";s[e]=Function("C,a","return new C("+n.join(",")+")")}return s[e](t,i)};t.exports=Function.bind||function(t){var e=n(this),i=o.call(arguments,1),s=function(){var n=i.concat(o.call(arguments));return this instanceof s?a(e,n.length,n):e.apply(t,n)};return r(e.prototype)&&(s.prototype=e.prototype),s}},"BX/b":function(t,e,i){var n=i("/GqU"),r=i("JBy8").f,o={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return s&&"[object Window]"==o.call(t)?function(t){try{return r(t)}catch(t){return s.slice()}}(t):r(n(t))}},DQNa:function(t,e,i){var n=i("busE"),r=Date.prototype,o=r.toString,s=r.getTime;new Date(NaN)+""!="Invalid Date"&&n(r,"toString",(function(){var t=s.call(this);return t==t?o.call(this):"Invalid Date"}))},ELyW:function(t,e,i){(function(t){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}i("pNMO"),i("4Brf"),i("0oug"),i("ma9I"),i("TeQF"),i("fbCW"),i("yXV3"),i("4mDm"),i("oVuX"),i("+2oP"),i("ToJy"),i("pDQq"),i("DQNa"),i("sMBO"),i("eoL8"),i("NBAS"),i("07d7"),i("4l63"),i("rB9j"),i("JfAA"),i("PKPk"),i("Rm1S"),i("UxlC"),i("EnZy"),i("3bBZ"),i("R5XZ"),function(t,i){t.MixItUp=function(){var e=this;e._execAction("_constructor",0),t.extend(e,{selectors:{target:".mix",filter:".filter",sort:".sort"},animation:{enable:!0,effects:"fade scale",duration:600,easing:"ease",perspectiveDistance:"3000",perspectiveOrigin:"50% 50%",queue:!0,queueLimit:1,animateChangeLayout:!1,animateResizeContainer:!0,animateResizeTargets:!1,staggerSequence:!1,reverseOut:!1},callbacks:{onMixLoad:!1,onMixStart:!1,onMixBusy:!1,onMixEnd:!1,onMixFail:!1,_user:!1},controls:{enable:!0,live:!1,toggleFilterButtons:!1,toggleLogic:"or",activeClass:"active"},layout:{display:"inline-block",containerClass:"",containerClassFail:"fail"},load:{filter:"all",sort:!1},_$body:null,_$container:null,_$targets:null,_$parent:null,_$sortButtons:null,_$filterButtons:null,_suckMode:!1,_mixing:!1,_sorting:!1,_clicking:!1,_loading:!0,_changingLayout:!1,_changingClass:!1,_changingDisplay:!1,_origOrder:[],_startOrder:[],_newOrder:[],_activeFilter:null,_toggleArray:[],_toggleString:"",_activeSort:"default:asc",_newSort:null,_startHeight:null,_newHeight:null,_incPadding:!0,_newDisplay:null,_newClass:null,_targetsBound:0,_targetsDone:0,_queue:[],_$show:t(),_$hide:t()}),e._execAction("_constructor",1)},t.MixItUp.prototype={constructor:t.MixItUp,_instances:{},_handled:{_filter:{},_sort:{}},_bound:{_filter:{},_sort:{}},_actions:{},_filters:{},extend:function(e){for(var i in e)t.MixItUp.prototype[i]=e[i]},addAction:function(e,i,n,r){t.MixItUp.prototype._addHook("_actions",e,i,n,r)},addFilter:function(e,i,n,r){t.MixItUp.prototype._addHook("_filters",e,i,n,r)},_addHook:function(e,i,n,r,o){var s=t.MixItUp.prototype[e],a={};o=1===o||"post"===o?"post":"pre",a[i]={},a[i][o]={},a[i][o][n]=r,t.extend(!0,s,a)},_init:function(e,i){var n=this;if(n._execAction("_init",0,arguments),i&&t.extend(!0,n,i),n._$body=t("body"),n._domNode=e,n._$container=t(e),n._$container.addClass(n.layout.containerClass),n._id=e.id,n._platformDetect(),n._brake=n._getPrefixedCSS("transition","none"),n._refresh(!0),n._$parent=n._$targets.parent().length?n._$targets.parent():n._$container,n.load.sort&&(n._newSort=n._parseSort(n.load.sort),n._newSortString=n.load.sort,n._activeSort=n.load.sort,n._sort(),n._printSort()),n._activeFilter="all"===n.load.filter?n.selectors.target:"none"===n.load.filter?"":n.load.filter,n.controls.enable&&n._bindHandlers(),n.controls.toggleFilterButtons){n._buildToggleArray();for(var r=0;r<n._toggleArray.length;r++)n._updateControls({filter:n._toggleArray[r],sort:n._activeSort},!0)}else n.controls.enable&&n._updateControls({filter:n._activeFilter,sort:n._activeSort});n._filter(),n._init=!0,n._$container.data("mixItUp",n),n._execAction("_init",1,arguments),n._buildState(),n._$targets.css(n._brake),n._goMix(n.animation.enable)},_platformDetect:function(){var t=this,n=["Webkit","Moz","O","ms"],r=["webkit","moz"],o=window.navigator.appVersion.match(/Chrome\/(\d+)\./)||!1,s="undefined"!=typeof InstallTrigger,a=function(t){for(var e=0;e<n.length;e++)if(n[e]+"Transition"in t.style)return{prefix:"-"+n[e].toLowerCase()+"-",vendor:n[e]};return"transition"in t.style&&""}(t._domNode);t._execAction("_platformDetect",0),t._chrome=!!o&&parseInt(o[1],10),t._ff=!!s&&parseInt(window.navigator.userAgent.match(/rv:([^)]+)\)/)[1]),t._prefix=a.prefix,t._vendor=a.vendor,t._suckMode=!window.atob||!t._prefix,t._suckMode&&(t.animation.enable=!1),t._ff&&t._ff<=4&&(t.animation.enable=!1);for(var u=0;u<r.length&&!window.requestAnimationFrame;u++)window.requestAnimationFrame=window[r[u]+"RequestAnimationFrame"];"function"!=typeof Object.getPrototypeOf&&("object"===e("test".__proto__)?Object.getPrototypeOf=function(t){return t.__proto__}:Object.getPrototypeOf=function(t){return t.constructor.prototype}),t._domNode.nextElementSibling===i&&Object.defineProperty(Element.prototype,"nextElementSibling",{get:function(){for(var t=this.nextSibling;t;){if(1===t.nodeType)return t;t=t.nextSibling}return null}}),t._execAction("_platformDetect",1)},_refresh:function(t,e){var n=this;n._execAction("_refresh",0,arguments),n._$targets=n._$container.find(n.selectors.target);for(var r=0;r<n._$targets.length;r++){if((l=n._$targets[r]).dataset===i||e){l.dataset={};for(var o=0;o<l.attributes.length;o++){var s=l.attributes[o],a=s.name,u=s.value;if(a.indexOf("data-")>-1){var c=n._helpers._camelCase(a.substring(5,a.length));l.dataset[c]=u}}}l.mixParent===i&&(l.mixParent=n._id)}if(n._$targets.length&&t||!n._origOrder.length&&n._$targets.length){n._origOrder=[];for(r=0;r<n._$targets.length;r++){var l=n._$targets[r];n._origOrder.push(l)}}n._execAction("_refresh",1,arguments)},_bindHandlers:function(){var e=this,n=t.MixItUp.prototype._bound._filter,r=t.MixItUp.prototype._bound._sort;e._execAction("_bindHandlers",0),e.controls.live?e._$body.on("click.mixItUp."+e._id,e.selectors.sort,(function(){e._processClick(t(this),"sort")})).on("click.mixItUp."+e._id,e.selectors.filter,(function(){e._processClick(t(this),"filter")})):(e._$sortButtons=t(e.selectors.sort),e._$filterButtons=t(e.selectors.filter),e._$sortButtons.on("click.mixItUp."+e._id,(function(){e._processClick(t(this),"sort")})),e._$filterButtons.on("click.mixItUp."+e._id,(function(){e._processClick(t(this),"filter")}))),n[e.selectors.filter]=n[e.selectors.filter]===i?1:n[e.selectors.filter]+1,r[e.selectors.sort]=r[e.selectors.sort]===i?1:r[e.selectors.sort]+1,e._execAction("_bindHandlers",1)},_processClick:function(e,n){var r=this,o=function(e,n,o){var s=t.MixItUp.prototype;s._handled["_"+n][r.selectors[n]]=s._handled["_"+n][r.selectors[n]]===i?1:s._handled["_"+n][r.selectors[n]]+1,s._handled["_"+n][r.selectors[n]]===s._bound["_"+n][r.selectors[n]]&&(e[(o?"remove":"add")+"Class"](r.controls.activeClass),delete s._handled["_"+n][r.selectors[n]])};if(r._execAction("_processClick",0,arguments),!r._mixing||r.animation.queue&&r._queue.length<r.animation.queueLimit){if(r._clicking=!0,"sort"===n){var s=e.attr("data-sort");(!e.hasClass(r.controls.activeClass)||s.indexOf("random")>-1)&&(t(r.selectors.sort).removeClass(r.controls.activeClass),o(e,n),r.sort(s))}if("filter"===n){var a,u=e.attr("data-filter"),c="or"===r.controls.toggleLogic?",":"";r.controls.toggleFilterButtons?(r._buildToggleArray(),e.hasClass(r.controls.activeClass)?(o(e,n,!0),a=r._toggleArray.indexOf(u),r._toggleArray.splice(a,1)):(o(e,n),r._toggleArray.push(u)),r._toggleArray=t.grep(r._toggleArray,(function(t){return t})),r._toggleString=r._toggleArray.join(c),r.filter(r._toggleString)):e.hasClass(r.controls.activeClass)||(t(r.selectors.filter).removeClass(r.controls.activeClass),o(e,n),r.filter(u))}r._execAction("_processClick",1,arguments)}else"function"==typeof r.callbacks.onMixBusy&&r.callbacks.onMixBusy.call(r._domNode,r._state,r),r._execAction("_processClickBusy",1,arguments)},_buildToggleArray:function(){var t=this,e=t._activeFilter.replace(/\s/g,"");if(t._execAction("_buildToggleArray",0,arguments),"or"===t.controls.toggleLogic)t._toggleArray=e.split(",");else{t._toggleArray=e.split("."),!t._toggleArray[0]&&t._toggleArray.shift();for(var i,n=0;i=t._toggleArray[n];n++)t._toggleArray[n]="."+i}t._execAction("_buildToggleArray",1,arguments)},_updateControls:function(e,n){var r=this,o={filter:e.filter,sort:e.sort},s=function(t,e){try{n&&"filter"===a&&"none"!==o.filter&&""!==o.filter?t.filter(e).addClass(r.controls.activeClass):t.removeClass(r.controls.activeClass).filter(e).addClass(r.controls.activeClass)}catch(t){}},a="filter",u=null;r._execAction("_updateControls",0,arguments),e.filter===i&&(o.filter=r._activeFilter),e.sort===i&&(o.sort=r._activeSort),o.filter===r.selectors.target&&(o.filter="all");for(var c=0;c<2;c++)(u=r.controls.live?t(r.selectors[a]):r["_$"+a+"Buttons"])&&s(u,"[data-"+a+'="'+o[a]+'"]'),a="sort";r._execAction("_updateControls",1,arguments)},_filter:function(){var e=this;e._execAction("_filter",0);for(var i=0;i<e._$targets.length;i++){var n=t(e._$targets[i]);n.is(e._activeFilter)?e._$show=e._$show.add(n):e._$hide=e._$hide.add(n)}e._execAction("_filter",1)},_sort:function(){var t=this;t._execAction("_sort",0),t._startOrder=[];for(var e=0;e<t._$targets.length;e++){var i=t._$targets[e];t._startOrder.push(i)}switch(t._newSort[0].sortBy){case"default":t._newOrder=t._origOrder;break;case"random":t._newOrder=function(t){for(var e=t.slice(),i=e.length,n=i;n--;){var r=parseInt(Math.random()*i),o=e[n];e[n]=e[r],e[r]=o}return e}(t._startOrder);break;case"custom":t._newOrder=t._newSort[0].order;break;default:t._newOrder=t._startOrder.concat().sort((function(e,i){return t._compare(e,i)}))}t._execAction("_sort",1)},_compare:function(t,e,i){i=i||0;var n=this,r=n._newSort[i].order,o=function(t){return t.dataset[n._newSort[i].sortBy]||0},s=isNaN(1*o(t))?o(t).toLowerCase():1*o(t),a=isNaN(1*o(e))?o(e).toLowerCase():1*o(e);return s<a?"asc"===r?-1:1:s>a?"asc"===r?1:-1:s===a&&n._newSort.length>i+1?n._compare(t,e,i+1):0},_printSort:function(t){var e=this,i=t?e._startOrder:e._newOrder,n=e._$parent[0].querySelectorAll(e.selectors.target),r=n.length?n[n.length-1].nextElementSibling:null,o=document.createDocumentFragment();e._execAction("_printSort",0,arguments);for(var s=0;s<n.length;s++){var a=n[s],u=a.nextSibling;"absolute"!==a.style.position&&(u&&"#text"===u.nodeName&&e._$parent[0].removeChild(u),e._$parent[0].removeChild(a))}for(s=0;s<i.length;s++){var c=i[s];if("default"!==e._newSort[0].sortBy||"desc"!==e._newSort[0].order||t)o.appendChild(c),o.appendChild(document.createTextNode(" "));else{var l=o.firstChild;o.insertBefore(c,l),o.insertBefore(document.createTextNode(" "),c)}}r?e._$parent[0].insertBefore(o,r):e._$parent[0].appendChild(o),e._execAction("_printSort",1,arguments)},_parseSort:function(t){for(var e=this,i="string"==typeof t?t.split(" "):[t],n=[],r=0;r<i.length;r++){var o="string"==typeof t?i[r].split(":"):["custom",i[r]],s={sortBy:e._helpers._camelCase(o[0]),order:o[1]||"asc"};if(n.push(s),"default"===s.sortBy||"random"===s.sortBy)break}return e._execFilter("_parseSort",n,arguments)},_parseEffects:function(){var t=this,e={opacity:"",transformIn:"",transformOut:"",filter:""},i=function(e,i,n){if(t.animation.effects.indexOf(e)>-1){if(i){var r=t.animation.effects.indexOf(e+"(");if(r>-1){var o=t.animation.effects.substring(r);return{val:/\(([^)]+)\)/.exec(o)[1]}}}return!0}return!1},n=function(t,e){return e?"-"===t.charAt(0)?t.substr(1,t.length):"-"+t:t},r=function(t,r){for(var o=[["scale",".01"],["translateX","20px"],["translateY","20px"],["translateZ","20px"],["rotateX","90deg"],["rotateY","90deg"],["rotateZ","180deg"]],s=0;s<o.length;s++){var a=o[s][0],u=o[s][1],c=r&&"scale"!==a;e[t]+=i(a)?a+"("+n(i(a,!0).val||u,c)+") ":""}};return e.opacity=i("fade")?i("fade",!0).val||"0":"1",r("transformIn"),t.animation.reverseOut?r("transformOut",!0):e.transformOut=e.transformIn,e.transition={},e.transition=t._getPrefixedCSS("transition","all "+t.animation.duration+"ms "+t.animation.easing+", opacity "+t.animation.duration+"ms linear"),t.animation.stagger=!!i("stagger"),t.animation.staggerDuration=parseInt(i("stagger")&&i("stagger",!0).val?i("stagger",!0).val:100),t._execFilter("_parseEffects",e)},_buildState:function(t){var e,i=this;if(i._execAction("_buildState",0),e={activeFilter:""===i._activeFilter?"none":i._activeFilter,activeSort:t&&i._newSortString?i._newSortString:i._activeSort,fail:!i._$show.length&&""!==i._activeFilter,$targets:i._$targets,$show:i._$show,$hide:i._$hide,totalTargets:i._$targets.length,totalShow:i._$show.length,totalHide:i._$hide.length,display:t&&i._newDisplay?i._newDisplay:i.layout.display},t)return i._execFilter("_buildState",e);i._state=e,i._execAction("_buildState",1)},_goMix:function(t){var e=this,i=function(){e._chrome&&31===e._chrome&&o(e._$parent[0]),e._setInter(),n()},n=function(){var t=window.pageYOffset,i=window.pageXOffset;document.documentElement.scrollHeight;e._getInterMixData(),e._setFinal(),e._getFinalMixData(),window.pageYOffset!==t&&window.scrollTo(i,t),e._prepTargets(),window.requestAnimationFrame?requestAnimationFrame(r):setTimeout((function(){r()}),20)},r=function(){e._animateTargets(),0===e._targetsBound&&e._cleanUp()},o=function(t){var e=t.parentElement,i=document.createElement("div"),n=document.createDocumentFragment();e.insertBefore(i,t),n.appendChild(t),e.replaceChild(t,i)},s=e._buildState(!0);e._execAction("_goMix",0,arguments),!e.animation.duration&&(t=!1),e._mixing=!0,e._$container.removeClass(e.layout.containerClassFail),"function"==typeof e.callbacks.onMixStart&&e.callbacks.onMixStart.call(e._domNode,e._state,s,e),e._$container.trigger("mixStart",[e._state,s,e]),e._getOrigMixData(),t&&!e._suckMode?window.requestAnimationFrame?requestAnimationFrame(i):i():e._cleanUp(),e._execAction("_goMix",1,arguments)},_getTargetData:function(t,e){var i;t.dataset[e+"PosX"]=t.offsetLeft,t.dataset[e+"PosY"]=t.offsetTop,this.animation.animateResizeTargets&&(i=this._suckMode?{marginBottom:"",marginRight:""}:window.getComputedStyle(t),t.dataset[e+"MarginBottom"]=parseInt(i.marginBottom),t.dataset[e+"MarginRight"]=parseInt(i.marginRight),t.dataset[e+"Width"]=t.offsetWidth,t.dataset[e+"Height"]=t.offsetHeight)},_getOrigMixData:function(){var t=this,e=t._suckMode?{boxSizing:""}:window.getComputedStyle(t._$parent[0]),i=e.boxSizing||e[t._vendor+"BoxSizing"];t._incPadding="border-box"===i,t._execAction("_getOrigMixData",0),!t._suckMode&&(t.effects=t._parseEffects()),t._$toHide=t._$hide.filter(":visible"),t._$toShow=t._$show.filter(":hidden"),t._$pre=t._$targets.filter(":visible"),t._startHeight=t._incPadding?t._$parent.outerHeight():t._$parent.height();for(var n=0;n<t._$pre.length;n++){var r=t._$pre[n];t._getTargetData(r,"orig")}t._execAction("_getOrigMixData",1)},_setInter:function(){var t=this;t._execAction("_setInter",0),t._changingLayout&&t.animation.animateChangeLayout?(t._$toShow.css("display",t._newDisplay),t._changingClass&&t._$container.removeClass(t.layout.containerClass).addClass(t._newClass)):t._$toShow.css("display",t.layout.display),t._execAction("_setInter",1)},_getInterMixData:function(){var t=this;t._execAction("_getInterMixData",0);for(var e=0;e<t._$toShow.length;e++){var i=t._$toShow[e];t._getTargetData(i,"inter")}for(e=0;e<t._$pre.length;e++){i=t._$pre[e];t._getTargetData(i,"inter")}t._execAction("_getInterMixData",1)},_setFinal:function(){var t=this;t._execAction("_setFinal",0),t._sorting&&t._printSort(),t._$toHide.removeStyle("display"),t._changingLayout&&t.animation.animateChangeLayout&&t._$pre.css("display",t._newDisplay),t._execAction("_setFinal",1)},_getFinalMixData:function(){var t=this;t._execAction("_getFinalMixData",0);for(var e=0;e<t._$toShow.length;e++){var i=t._$toShow[e];t._getTargetData(i,"final")}for(e=0;e<t._$pre.length;e++){i=t._$pre[e];t._getTargetData(i,"final")}t._newHeight=t._incPadding?t._$parent.outerHeight():t._$parent.height(),t._sorting&&t._printSort(!0),t._$toShow.removeStyle("display"),t._$pre.css("display",t.layout.display),t._changingClass&&t.animation.animateChangeLayout&&t._$container.removeClass(t._newClass).addClass(t.layout.containerClass),t._execAction("_getFinalMixData",1)},_prepTargets:function(){var e=this,i={_in:e._getPrefixedCSS("transform",e.effects.transformIn),_out:e._getPrefixedCSS("transform",e.effects.transformOut)};e._execAction("_prepTargets",0),e.animation.animateResizeContainer&&e._$parent.css("height",e._startHeight+"px");for(var n=0;n<e._$toShow.length;n++){var r=e._$toShow[n],o=t(r);r.style.opacity=e.effects.opacity,r.style.display=e._changingLayout&&e.animation.animateChangeLayout?e._newDisplay:e.layout.display,o.css(i._in),e.animation.animateResizeTargets&&(r.style.width=r.dataset.finalWidth+"px",r.style.height=r.dataset.finalHeight+"px",r.style.marginRight=-(r.dataset.finalWidth-r.dataset.interWidth)+1*r.dataset.finalMarginRight+"px",r.style.marginBottom=-(r.dataset.finalHeight-r.dataset.interHeight)+1*r.dataset.finalMarginBottom+"px")}for(n=0;n<e._$pre.length;n++){r=e._$pre[n],o=t(r);var s={x:r.dataset.origPosX-r.dataset.interPosX,y:r.dataset.origPosY-r.dataset.interPosY};i=e._getPrefixedCSS("transform","translate("+s.x+"px,"+s.y+"px)");o.css(i),e.animation.animateResizeTargets&&(r.style.width=r.dataset.origWidth+"px",r.style.height=r.dataset.origHeight+"px",r.dataset.origWidth-r.dataset.finalWidth&&(r.style.marginRight=-(r.dataset.origWidth-r.dataset.interWidth)+1*r.dataset.origMarginRight+"px"),r.dataset.origHeight-r.dataset.finalHeight&&(r.style.marginBottom=-(r.dataset.origHeight-r.dataset.interHeight)+1*r.dataset.origMarginBottom+"px"))}e._execAction("_prepTargets",1)},_animateTargets:function(){var e=this;e._execAction("_animateTargets",0),e._targetsDone=0,e._targetsBound=0,e._$parent.css(e._getPrefixedCSS("perspective",e.animation.perspectiveDistance+"px")).css(e._getPrefixedCSS("perspective-origin",e.animation.perspectiveOrigin)),e.animation.animateResizeContainer&&e._$parent.css(e._getPrefixedCSS("transition","height "+e.animation.duration+"ms ease")).css("height",e._newHeight+"px");for(var i=0;i<e._$toShow.length;i++){var n=e._$toShow[i],r=t(n),o={x:n.dataset.finalPosX-n.dataset.interPosX,y:n.dataset.finalPosY-n.dataset.interPosY},s=e._getDelay(i),a={};n.style.opacity="";for(var u=0;u<2;u++){var c=0===u?c=e._prefix:"";e._ff&&e._ff<=20&&(a[c+"transition-property"]="all",a[c+"transition-timing-function"]=e.animation.easing+"ms",a[c+"transition-duration"]=e.animation.duration+"ms"),a[c+"transition-delay"]=s+"ms",a[c+"transform"]="translate("+o.x+"px,"+o.y+"px)"}(e.effects.transform||e.effects.opacity)&&e._bindTargetDone(r),e._ff&&e._ff<=20?r.css(a):r.css(e.effects.transition).css(a)}for(i=0;i<e._$pre.length;i++){n=e._$pre[i],r=t(n),o={x:n.dataset.finalPosX-n.dataset.interPosX,y:n.dataset.finalPosY-n.dataset.interPosY},s=e._getDelay(i);n.dataset.finalPosX===n.dataset.origPosX&&n.dataset.finalPosY===n.dataset.origPosY||e._bindTargetDone(r),r.css(e._getPrefixedCSS("transition","all "+e.animation.duration+"ms "+e.animation.easing+" "+s+"ms")),r.css(e._getPrefixedCSS("transform","translate("+o.x+"px,"+o.y+"px)")),e.animation.animateResizeTargets&&(n.dataset.origWidth-n.dataset.finalWidth&&1*n.dataset.finalWidth&&(n.style.width=n.dataset.finalWidth+"px",n.style.marginRight=-(n.dataset.finalWidth-n.dataset.interWidth)+1*n.dataset.finalMarginRight+"px"),n.dataset.origHeight-n.dataset.finalHeight&&1*n.dataset.finalHeight&&(n.style.height=n.dataset.finalHeight+"px",n.style.marginBottom=-(n.dataset.finalHeight-n.dataset.interHeight)+1*n.dataset.finalMarginBottom+"px"))}e._changingClass&&e._$container.removeClass(e.layout.containerClass).addClass(e._newClass);for(i=0;i<e._$toHide.length;i++){n=e._$toHide[i],r=t(n),s=e._getDelay(i);var l={};for(u=0;u<2;u++){l[(c=0===u?c=e._prefix:"")+"transition-delay"]=s+"ms",l[c+"transform"]=e.effects.transformOut,l.opacity=e.effects.opacity}r.css(e.effects.transition).css(l),(e.effects.transform||e.effects.opacity)&&e._bindTargetDone(r)}e._execAction("_animateTargets",1)},_bindTargetDone:function(e){var i=this,n=e[0];i._execAction("_bindTargetDone",0,arguments),n.dataset.bound||(n.dataset.bound=!0,i._targetsBound++,e.on("webkitTransitionEnd.mixItUp transitionend.mixItUp",(function(r){(r.originalEvent.propertyName.indexOf("transform")>-1||r.originalEvent.propertyName.indexOf("opacity")>-1)&&t(r.originalEvent.target).is(i.selectors.target)&&(e.off(".mixItUp"),n.dataset.bound="",i._targetDone())}))),i._execAction("_bindTargetDone",1,arguments)},_targetDone:function(){var t=this;t._execAction("_targetDone",0),t._targetsDone++,t._targetsDone===t._targetsBound&&t._cleanUp(),t._execAction("_targetDone",1)},_cleanUp:function(){var e=this,i=e.animation.animateResizeTargets?"transform opacity width height margin-bottom margin-right":"transform opacity";e._execAction("_cleanUp",0),e._changingLayout?e._$show.css("display",e._newDisplay):e._$show.css("display",e.layout.display),e._$targets.css(e._brake),e._$targets.removeStyle(i,e._prefix).removeAttr("data-inter-pos-x data-inter-pos-y data-final-pos-x data-final-pos-y data-orig-pos-x data-orig-pos-y data-orig-height data-orig-width data-final-height data-final-width data-inter-width data-inter-height data-orig-margin-right data-orig-margin-bottom data-inter-margin-right data-inter-margin-bottom data-final-margin-right data-final-margin-bottom"),e._$hide.removeStyle("display"),e._$parent.removeStyle("height transition perspective-distance perspective perspective-origin-x perspective-origin-y perspective-origin perspectiveOrigin",e._prefix),e._sorting&&(e._printSort(),e._activeSort=e._newSortString,e._sorting=!1),e._changingLayout&&(e._changingDisplay&&(e.layout.display=e._newDisplay,e._changingDisplay=!1),e._changingClass&&(e._$parent.removeClass(e.layout.containerClass).addClass(e._newClass),e.layout.containerClass=e._newClass,e._changingClass=!1),e._changingLayout=!1),e._refresh(),e._buildState(),e._state.fail&&e._$container.addClass(e.layout.containerClassFail),e._$show=t(),e._$hide=t(),window.requestAnimationFrame&&requestAnimationFrame((function(){e._$targets.removeStyle("transition",e._prefix)})),e._mixing=!1,"function"==typeof e.callbacks._user&&e.callbacks._user.call(e._domNode,e._state,e),"function"==typeof e.callbacks.onMixEnd&&e.callbacks.onMixEnd.call(e._domNode,e._state,e),e._$container.trigger("mixEnd",[e._state,e]),e._state.fail&&("function"==typeof e.callbacks.onMixFail&&e.callbacks.onMixFail.call(e._domNode,e._state,e),e._$container.trigger("mixFail",[e._state,e])),e._loading&&("function"==typeof e.callbacks.onMixLoad&&e.callbacks.onMixLoad.call(e._domNode,e._state,e),e._$container.trigger("mixLoad",[e._state,e])),e._queue.length&&(e._execAction("_queue",0),e.multiMix(e._queue[0][0],e._queue[0][1],e._queue[0][2]),e._queue.splice(0,1)),e._execAction("_cleanUp",1),e._loading=!1},_getPrefixedCSS:function(t,e,i){var n=this,r={},o="",s=-1;for(s=0;s<2;s++)r[(o=0===s?n._prefix:"")+t]=i?o+e:e;return n._execFilter("_getPrefixedCSS",r,arguments)},_getDelay:function(t){var e=this,i="function"==typeof e.animation.staggerSequence?e.animation.staggerSequence.call(e._domNode,t,e._state):t,n=e.animation.stagger?i*e.animation.staggerDuration:0;return e._execFilter("_getDelay",n,arguments)},_parseMultiMixArgs:function(t){for(var i=this,n={command:null,animate:i.animation.enable,callback:null},r=0;r<t.length;r++){var o=t[r];null!==o&&("object"===e(o)||"string"==typeof o?n.command=o:"boolean"==typeof o?n.animate=o:"function"==typeof o&&(n.callback=o))}return i._execFilter("_parseMultiMixArgs",n,arguments)},_parseInsertArgs:function(i){for(var n=this,r={index:0,$object:t(),multiMix:{filter:n._state.activeFilter},callback:null},o=0;o<i.length;o++){var s=i[o];"number"==typeof s?r.index=s:"object"===e(s)&&s instanceof t?r.$object=s:"object"===e(s)&&n._helpers._isElement(s)?r.$object=t(s):"object"===e(s)&&null!==s?r.multiMix=s:"boolean"!=typeof s||s?"function"==typeof s&&(r.callback=s):r.multiMix=!1}return n._execFilter("_parseInsertArgs",r,arguments)},_execAction:function(t,e,i){var n=this,r=e?"post":"pre";if(!n._actions.isEmptyObject&&n._actions.hasOwnProperty(t))for(var o in n._actions[t][r])n._actions[t][r][o].call(n,i)},_execFilter:function(t,e,i){var n=this;if(n._filters.isEmptyObject||!n._filters.hasOwnProperty(t))return e;for(var r in n._filters[t])return n._filters[t][r].call(n,i)},_helpers:{_camelCase:function(t){return t.replace(/-([a-z])/g,(function(t){return t[1].toUpperCase()}))},_isElement:function(t){return window.HTMLElement?t instanceof HTMLElement:null!==t&&1===t.nodeType&&"string"===t.nodeName}},isMixing:function(){return this._execFilter("isMixing",this._mixing)},filter:function(){var t=this,e=t._parseMultiMixArgs(arguments);t._clicking&&(t._toggleString=""),t.multiMix({filter:e.command},e.animate,e.callback)},sort:function(){var t=this,e=t._parseMultiMixArgs(arguments);t.multiMix({sort:e.command},e.animate,e.callback)},changeLayout:function(){var t=this,e=t._parseMultiMixArgs(arguments);t.multiMix({changeLayout:e.command},e.animate,e.callback)},multiMix:function(){var t=this,e=t._parseMultiMixArgs(arguments);if(t._execAction("multiMix",0,arguments),t._mixing)t.animation.queue&&t._queue.length<t.animation.queueLimit?(t._queue.push(arguments),t.controls.enable&&!t._clicking&&t._updateControls(e.command),t._execAction("multiMixQueue",1,arguments)):("function"==typeof t.callbacks.onMixBusy&&t.callbacks.onMixBusy.call(t._domNode,t._state,t),t._$container.trigger("mixBusy",[t._state,t]),t._execAction("multiMixBusy",1,arguments));else{t.controls.enable&&!t._clicking&&(t.controls.toggleFilterButtons&&t._buildToggleArray(),t._updateControls(e.command,t.controls.toggleFilterButtons)),t._queue.length<2&&(t._clicking=!1),delete t.callbacks._user,e.callback&&(t.callbacks._user=e.callback);var n=e.command.sort,r=e.command.filter,o=e.command.changeLayout;t._refresh(),n&&(t._newSort=t._parseSort(n),t._newSortString=n,t._sorting=!0,t._sort()),r!==i&&(r="all"===r?t.selectors.target:r,t._activeFilter=r),t._filter(),o&&(t._newDisplay="string"==typeof o?o:o.display||t.layout.display,t._newClass=o.containerClass||"",t._newDisplay===t.layout.display&&t._newClass===t.layout.containerClass||(t._changingLayout=!0,t._changingClass=t._newClass!==t.layout.containerClass,t._changingDisplay=t._newDisplay!==t.layout.display)),t._$targets.css(t._brake),t._goMix(e.animate^t.animation.enable?e.animate:t.animation.enable),t._execAction("multiMix",1,arguments)}},insert:function(){var t=this,i=t._parseInsertArgs(arguments),n="function"==typeof i.callback?i.callback:null,r=document.createDocumentFragment(),o=(t._refresh(),t._$targets.length?i.index<t._$targets.length||!t._$targets.length?t._$targets[i.index]:t._$targets[t._$targets.length-1].nextElementSibling:t._$parent[0].children[0]);if(t._execAction("insert",0,arguments),i.$object){for(var s=0;s<i.$object.length;s++){var a=i.$object[s];r.appendChild(a),r.appendChild(document.createTextNode(" "))}t._$parent[0].insertBefore(r,o)}t._execAction("insert",1,arguments),"object"===e(i.multiMix)&&t.multiMix(i.multiMix,n)},prepend:function(){var t=this,e=t._parseInsertArgs(arguments);t.insert(0,e.$object,e.multiMix,e.callback)},append:function(){var t=this,e=t._parseInsertArgs(arguments);t.insert(t._state.totalTargets,e.$object,e.multiMix,e.callback)},getOption:function(t){var e=this,n=function(t,e){for(var n=e.split("."),r=n.pop(),o=n.length,s=1,a=n[0]||e;(t=t[a])&&s<o;)a=n[s],s++;if(t!==i)return t[r]!==i?t[r]:t};return t?e._execFilter("getOption",n(e,t),arguments):e},setOptions:function(i){var n=this;n._execAction("setOptions",0,arguments),"object"===e(i)&&t.extend(!0,n,i),n._execAction("setOptions",1,arguments)},getState:function(){var t=this;return t._execFilter("getState",t._state,t)},forceRefresh:function(){this._refresh(!1,!0)},destroy:function(e){var i=this,n=t.MixItUp.prototype._bound._filter,r=t.MixItUp.prototype._bound._sort;i._execAction("destroy",0,arguments),i._$body.add(t(i.selectors.sort)).add(t(i.selectors.filter)).off(".mixItUp");for(var o=0;o<i._$targets.length;o++){var s=i._$targets[o];e&&(s.style.display=""),delete s.mixParent}i._execAction("destroy",1,arguments),n[i.selectors.filter]&&n[i.selectors.filter]>1?n[i.selectors.filter]--:1===n[i.selectors.filter]&&delete n[i.selectors.filter],r[i.selectors.sort]&&r[i.selectors.sort]>1?r[i.selectors.sort]--:1===r[i.selectors.sort]&&delete r[i.selectors.sort],delete t.MixItUp.prototype._instances[i._id]}},t.fn.mixItUp=function(){var e,n=arguments,r=[],o=function(e,i){var n=new t.MixItUp,r=function(){return("00000"+(16777216*Math.random()<<0).toString(16)).substr(-6).toUpperCase()};n._execAction("_instantiate",0,arguments),e.id=e.id?e.id:"MixItUp"+r(),n._instances[e.id]||(n._instances[e.id]=n,n._init(e,i)),n._execAction("_instantiate",1,arguments)};return e=this.each((function(){if(n&&"string"==typeof n[0]){var e=t.MixItUp.prototype._instances[this.id];if("isLoaded"===n[0])r.push(!!e);else{var s=e[n[0]](n[1],n[2],n[3]);s!==i&&r.push(s)}}else o(this,n[0])})),r.length?r.length>1?r:r[0]:e},t.fn.removeStyle=function(e,n){return n=n||"",this.each((function(){for(var r=this,o=e.split(" "),s=0;s<o.length;s++)for(var a=0;a<4;a++){switch(a){case 0:var u=o[s];break;case 1:u=t.MixItUp.prototype._helpers._camelCase(u);break;case 2:u=n+o[s];break;case 3:u=t.MixItUp.prototype._helpers._camelCase(n+o[s])}if(r.style[u]!==i&&"unknown"!=typeof r.style[u]&&r.style[u].length>0&&(r.style[u]=""),!n&&1===a)break}r.attributes&&r.attributes.style&&r.attributes.style!==i&&""===r.attributes.style.value&&r.attributes.removeNamedItem("style")}))}}(t)}).call(this,i("EVdn"))},EnZy:function(t,e,i){"use strict";var n=i("14Sl"),r=i("ROdP"),o=i("glrk"),s=i("HYAF"),a=i("SEBh"),u=i("iqWW"),c=i("UMSQ"),l=i("FMNM"),h=i("kmMV"),p=i("0Dky"),f=[].push,d=Math.min,y=!p((function(){return!RegExp(4294967295,"y")}));n("split",2,(function(t,e,i){var n;return n="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,i){var n=String(s(this)),o=void 0===i?4294967295:i>>>0;if(0===o)return[];if(void 0===t)return[n];if(!r(t))return e.call(n,t,o);for(var a,u,c,l=[],p=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),d=0,y=new RegExp(t.source,p+"g");(a=h.call(y,n))&&!((u=y.lastIndex)>d&&(l.push(n.slice(d,a.index)),a.length>1&&a.index<n.length&&f.apply(l,a.slice(1)),c=a[0].length,d=u,l.length>=o));)y.lastIndex===a.index&&y.lastIndex++;return d===n.length?!c&&y.test("")||l.push(""):l.push(n.slice(d)),l.length>o?l.slice(0,o):l}:"0".split(void 0,0).length?function(t,i){return void 0===t&&0===i?[]:e.call(this,t,i)}:e,[function(e,i){var r=s(this),o=null==e?void 0:e[t];return void 0!==o?o.call(e,r,i):n.call(String(r),e,i)},function(t,r){var s=i(n,t,this,r,n!==e);if(s.done)return s.value;var h=o(t),p=String(this),f=a(h,RegExp),g=h.unicode,m=(h.ignoreCase?"i":"")+(h.multiline?"m":"")+(h.unicode?"u":"")+(y?"y":"g"),v=new f(y?h:"^(?:"+h.source+")",m),x=void 0===r?4294967295:r>>>0;if(0===x)return[];if(0===p.length)return null===l(v,p)?[p]:[];for(var _=0,b=0,w=[];b<p.length;){v.lastIndex=y?b:0;var S,z=l(v,y?p:p.slice(b));if(null===z||(S=d(c(v.lastIndex+(y?0:b)),p.length))===_)b=u(p,b,g);else{if(w.push(p.slice(_,b)),w.length===x)return w;for(var M=1;M<=z.length-1;M++)if(w.push(z[M]),w.length===x)return w;b=_=S}}return w.push(p.slice(_)),w}]}),!y)},FMNM:function(t,e,i){var n=i("xrYK"),r=i("kmMV");t.exports=function(t,e){var i=t.exec;if("function"==typeof i){var o=i.call(t,e);if("object"!=typeof o)throw TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==n(t))throw TypeError("RegExp#exec called on incompatible receiver");return r.call(t,e)}},Hd5f:function(t,e,i){var n=i("0Dky"),r=i("tiKp"),o=i("LQDL"),s=r("species");t.exports=function(t){return o>=51||!n((function(){var e=[];return(e.constructor={})[s]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},J30X:function(t,e,i){i("I+eb")({target:"Array",stat:!0},{isArray:i("6LWA")})},J8gt:function(t,e,i){(function(t){i("mRH6"),i("R5XZ"),t(document).ready((function(){var e={anj:{title:"airnjobs.com",tag:"PLATEFORME DE RECRUTEMENT.",detail:"Plateforme de recrutement dans le secteur de l'aéronautique.",link:"http://www.airnjobs.com/"},ksper:{title:"ksper - GRDF",tag:"PLATEFORME DE GESTION INTRA.",detail:"Plateforme de gestion du réseau des concentrateurs électriques sur l'ensemble du territoire métropolitain français."},ggc:{title:"GGC",tag:"SITE VITRINE.",detail:"Site vitrine d'une entreprise de conseil."}};t("#gallery .button").on("click",(function(){!function(i){t("#modal .title").text(e[i].title),t("#modal .detail").text(e[i].detail),t("#modal .tag").text(e[i].tag),e[i].link&&t("#modal .button").addClass("visible").parent().attr("href",e[i].link);t.each(t("#modal li"),(function(n,r){t(this).text(e[i].bullets[n])})),t.each(t("#modal .slide"),(function(e,n){t(this).css({background:"url('/build/slides/"+i+"-"+e+".jpg') center center/cover",backgroundSize:"cover"})}))}(this.id),t(".modal-wrap").addClass("visible")})),t(".close").on("click",(function(){t(".modal-wrap, #modal .button").removeClass("visible")})),t(".mask").on("click",(function(){t(".modal-wrap, #modal .button").removeClass("visible")}));var i,n,r=t("#carousel"),o=700,s=o/3;function a(){return n-i}function u(e){r.hasClass("transition")||(n=i,t(document).off("mouseup"),r.off("mousemove").addClass("transition").css("transform","translateX("+e*o+"px)"),setTimeout((function(){1===e?t(".slide:first").before(t(".slide:last")):-1===e&&t(".slide:last").after(t(".slide:first")),r.removeClass("transition"),r.css("transform","translateX(0px)")}),700))}!function(){/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&(o=t(window).innerWidth());t(".carousel-wrap, .slide").css("width",o),t(".modal").css("max-width",o),t("#carousel").css("left",-1*o)}(),t("#next").click((function(){u(-1)})),t("#prev").click((function(){u(1)})),r.on("mousedown",(function(){r.hasClass("transition")||(i=event.pageX,t(this).on("mousemove",(function(){n=event.pageX,t(this).css("transform","translateX("+a()+"px)")})),t(document).on("mouseup",(function(){return a()>s?u(1):a()<-s?u(-1):void u(0)})))}))}))}).call(this,i("EVdn"))},JfAA:function(t,e,i){"use strict";var n=i("busE"),r=i("glrk"),o=i("0Dky"),s=i("rW0t"),a=RegExp.prototype,u=a.toString,c=o((function(){return"/a/b"!=u.call({source:"a",flags:"b"})})),l="toString"!=u.name;(c||l)&&n(RegExp.prototype,"toString",(function(){var t=r(this),e=String(t.source),i=t.flags;return"/"+e+"/"+String(void 0===i&&t instanceof RegExp&&!("flags"in a)?s.call(t):i)}),{unsafe:!0})},LQDL:function(t,e,i){var n,r,o=i("2oRo"),s=i("NC/Y"),a=o.process,u=a&&a.versions,c=u&&u.v8;c?r=(n=c.split("."))[0]+n[1]:s&&(!(n=s.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=s.match(/Chrome\/(\d+)/))&&(r=n[1]),t.exports=r&&+r},NBAS:function(t,e,i){var n=i("I+eb"),r=i("0Dky"),o=i("ewvW"),s=i("4WOD"),a=i("4Xet");n({target:"Object",stat:!0,forced:r((function(){s(1)})),sham:!a},{getPrototypeOf:function(t){return s(o(t))}})},"NC/Y":function(t,e,i){var n=i("0GbY");t.exports=n("navigator","userAgent")||""},O741:function(t,e,i){var n=i("hh1v");t.exports=function(t){if(!n(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},P4y1:function(t,e){t.exports={}},PKPk:function(t,e,i){"use strict";var n=i("ZUd8").charAt,r=i("afO8"),o=i("fdAy"),s=r.set,a=r.getterFor("String Iterator");o(String,"String",(function(t){s(this,{type:"String Iterator",string:String(t),index:0})}),(function(){var t,e=a(this),i=e.string,r=e.index;return r>=i.length?{value:void 0,done:!0}:(t=n(i,r),e.index+=t.length,{value:t,done:!1})}))},R5XZ:function(t,e,i){var n=i("I+eb"),r=i("2oRo"),o=i("NC/Y"),s=[].slice,a=function(t){return function(e,i){var n=arguments.length>2,r=n?s.call(arguments,2):void 0;return t(n?function(){("function"==typeof e?e:Function(e)).apply(this,r)}:e,i)}};n({global:!0,bind:!0,forced:/MSIE .\./.test(o)},{setTimeout:a(r.setTimeout),setInterval:a(r.setInterval)})},ROdP:function(t,e,i){var n=i("hh1v"),r=i("xrYK"),o=i("tiKp")("match");t.exports=function(t){var e;return n(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==r(t))}},Rm1S:function(t,e,i){"use strict";var n=i("14Sl"),r=i("glrk"),o=i("UMSQ"),s=i("HYAF"),a=i("iqWW"),u=i("FMNM");n("match",1,(function(t,e,i){return[function(e){var i=s(this),n=null==e?void 0:e[t];return void 0!==n?n.call(e,i):new RegExp(e)[t](String(i))},function(t){var n=i(e,t,this);if(n.done)return n.value;var s=r(t),c=String(this);if(!s.global)return u(s,c);var l=s.unicode;s.lastIndex=0;for(var h,p=[],f=0;null!==(h=u(s,c));){var d=String(h[0]);p[f]=d,""===d&&(s.lastIndex=a(c,o(s.lastIndex),l)),f++}return 0===f?null:p}]}))},SEBh:function(t,e,i){var n=i("glrk"),r=i("HAuM"),o=i("tiKp")("species");t.exports=function(t,e){var i,s=n(t).constructor;return void 0===s||null==(i=n(s)[o])?e:r(i)}},TeQF:function(t,e,i){"use strict";var n=i("I+eb"),r=i("tycR").filter,o=i("Hd5f"),s=i("rkAj"),a=o("filter"),u=s("filter");n({target:"Array",proto:!0,forced:!a||!u},{filter:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},ToJy:function(t,e,i){"use strict";var n=i("I+eb"),r=i("HAuM"),o=i("ewvW"),s=i("0Dky"),a=i("pkCn"),u=[],c=u.sort,l=s((function(){u.sort(void 0)})),h=s((function(){u.sort(null)})),p=a("sort");n({target:"Array",proto:!0,forced:l||!h||!p},{sort:function(t){return void 0===t?c.call(o(this)):c.call(o(this),r(t))}})},UxlC:function(t,e,i){"use strict";var n=i("14Sl"),r=i("glrk"),o=i("ewvW"),s=i("UMSQ"),a=i("ppGB"),u=i("HYAF"),c=i("iqWW"),l=i("FMNM"),h=Math.max,p=Math.min,f=Math.floor,d=/\$([$&'`]|\d\d?|<[^>]*>)/g,y=/\$([$&'`]|\d\d?)/g;n("replace",2,(function(t,e,i,n){var g=n.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,m=n.REPLACE_KEEPS_$0,v=g?"$":"$0";return[function(i,n){var r=u(this),o=null==i?void 0:i[t];return void 0!==o?o.call(i,r,n):e.call(String(r),i,n)},function(t,n){if(!g&&m||"string"==typeof n&&-1===n.indexOf(v)){var o=i(e,t,this,n);if(o.done)return o.value}var u=r(t),f=String(this),d="function"==typeof n;d||(n=String(n));var y=u.global;if(y){var _=u.unicode;u.lastIndex=0}for(var b=[];;){var w=l(u,f);if(null===w)break;if(b.push(w),!y)break;""===String(w[0])&&(u.lastIndex=c(f,s(u.lastIndex),_))}for(var S,z="",M=0,A=0;A<b.length;A++){w=b[A];for(var k=String(w[0]),$=h(p(a(w.index),f.length),0),C=[],D=1;D<w.length;D++)C.push(void 0===(S=w[D])?S:String(S));var P=w.groups;if(d){var I=[k].concat(C,$,f);void 0!==P&&I.push(P);var R=String(n.apply(void 0,I))}else R=x(k,f,$,C,P,n);$>=M&&(z+=f.slice(M,$)+R,M=$+k.length)}return z+f.slice(M)}];function x(t,i,n,r,s,a){var u=n+t.length,c=r.length,l=y;return void 0!==s&&(s=o(s),l=d),e.call(a,l,(function(e,o){var a;switch(o.charAt(0)){case"$":return"$";case"&":return t;case"`":return i.slice(0,n);case"'":return i.slice(u);case"<":a=s[o.slice(1,-1)];break;default:var l=+o;if(0===l)return e;if(l>c){var h=f(l/10);return 0===h?e:h<=c?void 0===r[h-1]?o.charAt(1):r[h-1]+o.charAt(1):e}a=r[l-1]}return void 0===a?"":a}))}}))},WJkJ:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},WKiH:function(t,e,i){var n=i("HYAF"),r="["+i("WJkJ")+"]",o=RegExp("^"+r+r+"*"),s=RegExp(r+r+"*$"),a=function(t){return function(e){var i=String(n(e));return 1&t&&(i=i.replace(o,"")),2&t&&(i=i.replace(s,"")),i}};t.exports={start:a(1),end:a(2),trim:a(3)}},ZUd8:function(t,e,i){var n=i("ppGB"),r=i("HYAF"),o=function(t){return function(e,i){var o,s,a=String(r(e)),u=n(i),c=a.length;return u<0||u>=c?t?"":void 0:(o=a.charCodeAt(u))<55296||o>56319||u+1===c||(s=a.charCodeAt(u+1))<56320||s>57343?t?a.charAt(u):o:t?a.slice(u,u+2):s-56320+(o-55296<<10)+65536}};t.exports={codeAt:o(!1),charAt:o(!0)}},brp2:function(t,e,i){i("I+eb")({target:"Date",stat:!0},{now:function(){return(new Date).getTime()}})},cVYH:function(t,e,i){var n=i("hh1v"),r=i("0rvr");t.exports=function(t,e,i){var o,s;return r&&"function"==typeof(o=e.constructor)&&o!==i&&n(s=o.prototype)&&s!==i.prototype&&r(t,s),t}},"dG/n":function(t,e,i){var n=i("Qo9l"),r=i("UTVS"),o=i("5Tg+"),s=i("m/L8").f;t.exports=function(t){var e=n.Symbol||(n.Symbol={});r(e,t)||s(e,t,{value:o.f(t)})}},eoL8:function(t,e,i){var n=i("I+eb"),r=i("g6v/");n({target:"Object",stat:!0,forced:!r,sham:!r},{defineProperty:i("m/L8").f})},fbCW:function(t,e,i){"use strict";var n=i("I+eb"),r=i("tycR").find,o=i("RNIs"),s=i("rkAj"),a=!0,u=s("find");"find"in[]&&Array(1).find((function(){a=!1})),n({target:"Array",proto:!0,forced:a||!u},{find:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),o("find")},fdAy:function(t,e,i){"use strict";var n=i("I+eb"),r=i("ntOU"),o=i("4WOD"),s=i("0rvr"),a=i("1E5z"),u=i("kRJp"),c=i("busE"),l=i("tiKp"),h=i("xDBR"),p=i("P4y1"),f=i("rpNk"),d=f.IteratorPrototype,y=f.BUGGY_SAFARI_ITERATORS,g=l("iterator"),m=function(){return this};t.exports=function(t,e,i,l,f,v,x){r(i,e,l);var _,b,w,S=function(t){if(t===f&&$)return $;if(!y&&t in A)return A[t];switch(t){case"keys":case"values":case"entries":return function(){return new i(this,t)}}return function(){return new i(this)}},z=e+" Iterator",M=!1,A=t.prototype,k=A[g]||A["@@iterator"]||f&&A[f],$=!y&&k||S(f),C="Array"==e&&A.entries||k;if(C&&(_=o(C.call(new t)),d!==Object.prototype&&_.next&&(h||o(_)===d||(s?s(_,d):"function"!=typeof _[g]&&u(_,g,m)),a(_,z,!0,!0),h&&(p[z]=m))),"values"==f&&k&&"values"!==k.name&&(M=!0,$=function(){return k.call(this)}),h&&!x||A[g]===$||u(A,g,$),p[e]=$,f)if(b={values:S("values"),keys:v?$:S("keys"),entries:S("entries")},x)for(w in b)(y||M||!(w in A))&&c(A,w,b[w]);else n({target:e,proto:!0,forced:y||M},b);return b}},fhKU:function(t,e,i){var n=i("2oRo"),r=i("WKiH").trim,o=i("WJkJ"),s=n.parseFloat,a=1/s(o+"-0")!=-1/0;t.exports=a?function(t){var e=r(String(t)),i=s(e);return 0===i&&"-"==e.charAt(0)?-0:i}:s},gdVl:function(t,e,i){"use strict";var n=i("ewvW"),r=i("I8vh"),o=i("UMSQ");t.exports=function(t){for(var e=n(this),i=o(e.length),s=arguments.length,a=r(s>1?arguments[1]:void 0,i),u=s>2?arguments[2]:void 0,c=void 0===u?i:r(u,i);c>a;)e[a++]=t;return e}},hBjN:function(t,e,i){"use strict";var n=i("wE6v"),r=i("m/L8"),o=i("XGwC");t.exports=function(t,e,i){var s=n(e);s in t?r.f(t,s,o(0,i)):t[s]=i}},hXpO:function(t,e,i){var n=i("HYAF"),r=/"/g;t.exports=function(t,e,i,o){var s=String(n(t)),a="<"+e;return""!==i&&(a+=" "+i+'="'+String(o).replace(r,"&quot;")+'"'),a+">"+s+"</"+e+">"}},iqWW:function(t,e,i){"use strict";var n=i("ZUd8").charAt;t.exports=function(t,e,i){return e+(i?n(t,e).length:1)}},kmMV:function(t,e,i){"use strict";var n,r,o=i("rW0t"),s=i("n3/R"),a=RegExp.prototype.exec,u=String.prototype.replace,c=a,l=(n=/a/,r=/b*/g,a.call(n,"a"),a.call(r,"a"),0!==n.lastIndex||0!==r.lastIndex),h=s.UNSUPPORTED_Y||s.BROKEN_CARET,p=void 0!==/()??/.exec("")[1];(l||p||h)&&(c=function(t){var e,i,n,r,s=this,c=h&&s.sticky,f=o.call(s),d=s.source,y=0,g=t;return c&&(-1===(f=f.replace("y","")).indexOf("g")&&(f+="g"),g=String(t).slice(s.lastIndex),s.lastIndex>0&&(!s.multiline||s.multiline&&"\n"!==t[s.lastIndex-1])&&(d="(?: "+d+")",g=" "+g,y++),i=new RegExp("^(?:"+d+")",f)),p&&(i=new RegExp("^"+d+"$(?!\\s)",f)),l&&(e=s.lastIndex),n=a.call(c?i:s,g),c?n?(n.input=n.input.slice(y),n[0]=n[0].slice(y),n.index=s.lastIndex,s.lastIndex+=n[0].length):s.lastIndex=0:l&&n&&(s.lastIndex=s.global?n.index+n[0].length:e),p&&n&&n.length>1&&u.call(n[0],i,(function(){for(r=1;r<arguments.length-2;r++)void 0===arguments[r]&&(n[r]=void 0)})),n}),t.exports=c},lD4i:function(t,e,i){(function(t){i("yXV3"),i("+2oP"),i("ToJy"),i("pDQq"),i("sMBO"),i("rNhl"),i("R5XZ"),function(){"use strict";function t(n){if(!n)throw new Error("No options passed to Waypoint constructor");if(!n.element)throw new Error("No element option passed to Waypoint constructor");if(!n.handler)throw new Error("No handler option passed to Waypoint constructor");this.key="waypoint-"+e,this.options=t.Adapter.extend({},t.defaults,n),this.element=this.options.element,this.adapter=new t.Adapter(this.element),this.callback=n.handler,this.axis=this.options.horizontal?"horizontal":"vertical",this.enabled=this.options.enabled,this.triggerPoint=null,this.group=t.Group.findOrCreate({name:this.options.group,axis:this.axis}),this.context=t.Context.findOrCreateByElement(this.options.context),t.offsetAliases[this.options.offset]&&(this.options.offset=t.offsetAliases[this.options.offset]),this.group.add(this),this.context.add(this),i[this.key]=this,e+=1}var e=0,i={};t.prototype.queueTrigger=function(t){this.group.queueTrigger(this,t)},t.prototype.trigger=function(t){this.enabled&&this.callback&&this.callback.apply(this,t)},t.prototype.destroy=function(){this.context.remove(this),this.group.remove(this),delete i[this.key]},t.prototype.disable=function(){return this.enabled=!1,this},t.prototype.enable=function(){return this.context.refresh(),this.enabled=!0,this},t.prototype.next=function(){return this.group.next(this)},t.prototype.previous=function(){return this.group.previous(this)},t.invokeAll=function(t){var e=[];for(var n in i)e.push(i[n]);for(var r=0,o=e.length;o>r;r++)e[r][t]()},t.destroyAll=function(){t.invokeAll("destroy")},t.disableAll=function(){t.invokeAll("disable")},t.enableAll=function(){t.invokeAll("enable")},t.refreshAll=function(){t.Context.refreshAll()},t.viewportHeight=function(){return window.innerHeight||document.documentElement.clientHeight},t.viewportWidth=function(){return document.documentElement.clientWidth},t.adapters=[],t.defaults={context:window,continuous:!0,enabled:!0,group:"default",horizontal:!1,offset:0},t.offsetAliases={"bottom-in-view":function(){return this.context.innerHeight()-this.adapter.outerHeight()},"right-in-view":function(){return this.context.innerWidth()-this.adapter.outerWidth()}},window.Waypoint=t}(),function(){"use strict";function t(t){window.setTimeout(t,1e3/60)}function e(t){this.element=t,this.Adapter=r.Adapter,this.adapter=new this.Adapter(t),this.key="waypoint-context-"+i,this.didScroll=!1,this.didResize=!1,this.oldScroll={x:this.adapter.scrollLeft(),y:this.adapter.scrollTop()},this.waypoints={vertical:{},horizontal:{}},t.waypointContextKey=this.key,n[t.waypointContextKey]=this,i+=1,this.createThrottledScrollHandler(),this.createThrottledResizeHandler()}var i=0,n={},r=window.Waypoint,o=window.onload;e.prototype.add=function(t){var e=t.options.horizontal?"horizontal":"vertical";this.waypoints[e][t.key]=t,this.refresh()},e.prototype.checkEmpty=function(){var t=this.Adapter.isEmptyObject(this.waypoints.horizontal),e=this.Adapter.isEmptyObject(this.waypoints.vertical);t&&e&&(this.adapter.off(".waypoints"),delete n[this.key])},e.prototype.createThrottledResizeHandler=function(){function t(){e.handleResize(),e.didResize=!1}var e=this;this.adapter.on("resize.waypoints",(function(){e.didResize||(e.didResize=!0,r.requestAnimationFrame(t))}))},e.prototype.createThrottledScrollHandler=function(){function t(){e.handleScroll(),e.didScroll=!1}var e=this;this.adapter.on("scroll.waypoints",(function(){(!e.didScroll||r.isTouch)&&(e.didScroll=!0,r.requestAnimationFrame(t))}))},e.prototype.handleResize=function(){r.Context.refreshAll()},e.prototype.handleScroll=function(){var t={},e={horizontal:{newScroll:this.adapter.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.adapter.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}};for(var i in e){var n=e[i],r=n.newScroll>n.oldScroll?n.forward:n.backward;for(var o in this.waypoints[i]){var s=this.waypoints[i][o],a=n.oldScroll<s.triggerPoint,u=n.newScroll>=s.triggerPoint;(a&&u||!a&&!u)&&(s.queueTrigger(r),t[s.group.id]=s.group)}}for(var c in t)t[c].flushTriggers();this.oldScroll={x:e.horizontal.newScroll,y:e.vertical.newScroll}},e.prototype.innerHeight=function(){return this.element==this.element.window?r.viewportHeight():this.adapter.innerHeight()},e.prototype.remove=function(t){delete this.waypoints[t.axis][t.key],this.checkEmpty()},e.prototype.innerWidth=function(){return this.element==this.element.window?r.viewportWidth():this.adapter.innerWidth()},e.prototype.destroy=function(){var t=[];for(var e in this.waypoints)for(var i in this.waypoints[e])t.push(this.waypoints[e][i]);for(var n=0,r=t.length;r>n;n++)t[n].destroy()},e.prototype.refresh=function(){var t,e=this.element==this.element.window,i=e?void 0:this.adapter.offset(),n={};for(var o in this.handleScroll(),t={horizontal:{contextOffset:e?0:i.left,contextScroll:e?0:this.oldScroll.x,contextDimension:this.innerWidth(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:e?0:i.top,contextScroll:e?0:this.oldScroll.y,contextDimension:this.innerHeight(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}}){var s=t[o];for(var a in this.waypoints[o]){var u,c,l,h,p=this.waypoints[o][a],f=p.options.offset,d=p.triggerPoint,y=0,g=null==d;p.element!==p.element.window&&(y=p.adapter.offset()[s.offsetProp]),"function"==typeof f?f=f.apply(p):"string"==typeof f&&(f=parseFloat(f),p.options.offset.indexOf("%")>-1&&(f=Math.ceil(s.contextDimension*f/100))),u=s.contextScroll-s.contextOffset,p.triggerPoint=y+u-f,c=d<s.oldScroll,l=p.triggerPoint>=s.oldScroll,h=!c&&!l,!g&&(c&&l)?(p.queueTrigger(s.backward),n[p.group.id]=p.group):(!g&&h||g&&s.oldScroll>=p.triggerPoint)&&(p.queueTrigger(s.forward),n[p.group.id]=p.group)}}return r.requestAnimationFrame((function(){for(var t in n)n[t].flushTriggers()})),this},e.findOrCreateByElement=function(t){return e.findByElement(t)||new e(t)},e.refreshAll=function(){for(var t in n)n[t].refresh()},e.findByElement=function(t){return n[t.waypointContextKey]},window.onload=function(){o&&o(),e.refreshAll()},r.requestAnimationFrame=function(e){(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||t).call(window,e)},r.Context=e}(),function(){"use strict";function t(t,e){return t.triggerPoint-e.triggerPoint}function e(t,e){return e.triggerPoint-t.triggerPoint}function i(t){this.name=t.name,this.axis=t.axis,this.id=this.name+"-"+this.axis,this.waypoints=[],this.clearTriggerQueues(),n[this.axis][this.name]=this}var n={vertical:{},horizontal:{}},r=window.Waypoint;i.prototype.add=function(t){this.waypoints.push(t)},i.prototype.clearTriggerQueues=function(){this.triggerQueues={up:[],down:[],left:[],right:[]}},i.prototype.flushTriggers=function(){for(var i in this.triggerQueues){var n=this.triggerQueues[i],r="up"===i||"left"===i;n.sort(r?e:t);for(var o=0,s=n.length;s>o;o+=1){var a=n[o];(a.options.continuous||o===n.length-1)&&a.trigger([i])}}this.clearTriggerQueues()},i.prototype.next=function(e){this.waypoints.sort(t);var i=r.Adapter.inArray(e,this.waypoints);return i===this.waypoints.length-1?null:this.waypoints[i+1]},i.prototype.previous=function(e){this.waypoints.sort(t);var i=r.Adapter.inArray(e,this.waypoints);return i?this.waypoints[i-1]:null},i.prototype.queueTrigger=function(t,e){this.triggerQueues[e].push(t)},i.prototype.remove=function(t){var e=r.Adapter.inArray(t,this.waypoints);e>-1&&this.waypoints.splice(e,1)},i.prototype.first=function(){return this.waypoints[0]},i.prototype.last=function(){return this.waypoints[this.waypoints.length-1]},i.findOrCreate=function(t){return n[t.axis][t.name]||new i(t)},r.Group=i}(),function(){"use strict";function e(t){this.$element=i(t)}var i=t,n=window.Waypoint;i.each(["innerHeight","innerWidth","off","offset","on","outerHeight","outerWidth","scrollLeft","scrollTop"],(function(t,i){e.prototype[i]=function(){var t=Array.prototype.slice.call(arguments);return this.$element[i].apply(this.$element,t)}})),i.each(["extend","inArray","isEmptyObject"],(function(t,n){e[n]=i[n]})),n.adapters.push({name:"jquery",Adapter:e}),n.Adapter=e}(),function(){"use strict";function e(t){return function(){var e=[],n=arguments[0];return t.isFunction(arguments[0])&&((n=t.extend({},arguments[1])).handler=arguments[0]),this.each((function(){var r=t.extend({},n,{element:this});"string"==typeof r.context&&(r.context=t(this).closest(r.context)[0]),e.push(new i(r))})),e}}var i=window.Waypoint;t&&(t.fn.waypoint=e(t)),window.Zepto&&(window.Zepto.fn.waypoint=e(window.Zepto))}()}).call(this,i("EVdn"))},lu9z:function(t,e,i){},mRH6:function(t,e,i){"use strict";var n=i("I+eb"),r=i("hXpO");n({target:"String",proto:!0,forced:i("rwPt")("link")},{link:function(t){return r(this,"a","href",t)}})},ma9I:function(t,e,i){"use strict";var n=i("I+eb"),r=i("0Dky"),o=i("6LWA"),s=i("hh1v"),a=i("ewvW"),u=i("UMSQ"),c=i("hBjN"),l=i("ZfDv"),h=i("Hd5f"),p=i("tiKp"),f=i("LQDL"),d=p("isConcatSpreadable"),y=f>=51||!r((function(){var t=[];return t[d]=!1,t.concat()[0]!==t})),g=h("concat"),m=function(t){if(!s(t))return!1;var e=t[d];return void 0!==e?!!e:o(t)};n({target:"Array",proto:!0,forced:!y||!g},{concat:function(t){var e,i,n,r,o,s=a(this),h=l(s,0),p=0;for(e=-1,n=arguments.length;e<n;e++)if(m(o=-1===e?s:arguments[e])){if(p+(r=u(o.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(i=0;i<r;i++,p++)i in o&&c(h,p,o[i])}else{if(p>=9007199254740991)throw TypeError("Maximum allowed index exceeded");c(h,p++,o)}return h.length=p,h}})},"n3/R":function(t,e,i){"use strict";var n=i("0Dky");function r(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=n((function(){var t=r("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=n((function(){var t=r("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},ntOU:function(t,e,i){"use strict";var n=i("rpNk").IteratorPrototype,r=i("fHMY"),o=i("XGwC"),s=i("1E5z"),a=i("P4y1"),u=function(){return this};t.exports=function(t,e,i){var c=e+" Iterator";return t.prototype=r(n,{next:o(1,i)}),s(t,c,!1,!0),a[c]=u,t}},nwPP:function(t,e,i){"use strict"},oVuX:function(t,e,i){"use strict";var n=i("I+eb"),r=i("RK3t"),o=i("/GqU"),s=i("pkCn"),a=[].join,u=r!=Object,c=s("join",",");n({target:"Array",proto:!0,forced:u||!c},{join:function(t){return a.call(o(this),void 0===t?",":t)}})},pDQq:function(t,e,i){"use strict";var n=i("I+eb"),r=i("I8vh"),o=i("ppGB"),s=i("UMSQ"),a=i("ewvW"),u=i("ZfDv"),c=i("hBjN"),l=i("Hd5f"),h=i("rkAj"),p=l("splice"),f=h("splice",{ACCESSORS:!0,0:0,1:2}),d=Math.max,y=Math.min;n({target:"Array",proto:!0,forced:!p||!f},{splice:function(t,e){var i,n,l,h,p,f,g=a(this),m=s(g.length),v=r(t,m),x=arguments.length;if(0===x?i=n=0:1===x?(i=0,n=m-v):(i=x-2,n=y(d(o(e),0),m-v)),m+i-n>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(l=u(g,n),h=0;h<n;h++)(p=v+h)in g&&c(l,h,g[p]);if(l.length=n,i<n){for(h=v;h<m-n;h++)f=h+i,(p=h+n)in g?g[f]=g[p]:delete g[f];for(h=m;h>m-n+i;h--)delete g[h-1]}else if(i>n)for(h=m-n;h>v;h--)f=h+i-1,(p=h+n-1)in g?g[f]=g[p]:delete g[f];for(h=0;h<i;h++)g[h+v]=arguments[h+2];return g.length=m-n+i,l}})},pNMO:function(t,e,i){"use strict";var n=i("I+eb"),r=i("2oRo"),o=i("0GbY"),s=i("xDBR"),a=i("g6v/"),u=i("STAE"),c=i("/b8u"),l=i("0Dky"),h=i("UTVS"),p=i("6LWA"),f=i("hh1v"),d=i("glrk"),y=i("ewvW"),g=i("/GqU"),m=i("wE6v"),v=i("XGwC"),x=i("fHMY"),_=i("33Wh"),b=i("JBy8"),w=i("BX/b"),S=i("dBg+"),z=i("Bs8V"),M=i("m/L8"),A=i("0eef"),k=i("kRJp"),$=i("busE"),C=i("VpIT"),D=i("93I0"),P=i("0BK2"),I=i("kOOl"),R=i("tiKp"),E=i("5Tg+"),T=i("dG/n"),L=i("1E5z"),O=i("afO8"),B=i("tycR").forEach,F=D("hidden"),q=R("toPrimitive"),H=O.set,N=O.getterFor("Symbol"),j=Object.prototype,U=r.Symbol,X=o("JSON","stringify"),W=z.f,Y=M.f,G=w.f,Z=A.f,V=C("symbols"),Q=C("op-symbols"),K=C("string-to-symbol-registry"),J=C("symbol-to-string-registry"),tt=C("wks"),et=r.QObject,it=!et||!et.prototype||!et.prototype.findChild,nt=a&&l((function(){return 7!=x(Y({},"a",{get:function(){return Y(this,"a",{value:7}).a}})).a}))?function(t,e,i){var n=W(j,e);n&&delete j[e],Y(t,e,i),n&&t!==j&&Y(j,e,n)}:Y,rt=function(t,e){var i=V[t]=x(U.prototype);return H(i,{type:"Symbol",tag:t,description:e}),a||(i.description=e),i},ot=c?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof U},st=function(t,e,i){t===j&&st(Q,e,i),d(t);var n=m(e,!0);return d(i),h(V,n)?(i.enumerable?(h(t,F)&&t[F][n]&&(t[F][n]=!1),i=x(i,{enumerable:v(0,!1)})):(h(t,F)||Y(t,F,v(1,{})),t[F][n]=!0),nt(t,n,i)):Y(t,n,i)},at=function(t,e){d(t);var i=g(e),n=_(i).concat(ht(i));return B(n,(function(e){a&&!ut.call(i,e)||st(t,e,i[e])})),t},ut=function(t){var e=m(t,!0),i=Z.call(this,e);return!(this===j&&h(V,e)&&!h(Q,e))&&(!(i||!h(this,e)||!h(V,e)||h(this,F)&&this[F][e])||i)},ct=function(t,e){var i=g(t),n=m(e,!0);if(i!==j||!h(V,n)||h(Q,n)){var r=W(i,n);return!r||!h(V,n)||h(i,F)&&i[F][n]||(r.enumerable=!0),r}},lt=function(t){var e=G(g(t)),i=[];return B(e,(function(t){h(V,t)||h(P,t)||i.push(t)})),i},ht=function(t){var e=t===j,i=G(e?Q:g(t)),n=[];return B(i,(function(t){!h(V,t)||e&&!h(j,t)||n.push(V[t])})),n};(u||($((U=function(){if(this instanceof U)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=I(t),i=function(t){this===j&&i.call(Q,t),h(this,F)&&h(this[F],e)&&(this[F][e]=!1),nt(this,e,v(1,t))};return a&&it&&nt(j,e,{configurable:!0,set:i}),rt(e,t)}).prototype,"toString",(function(){return N(this).tag})),$(U,"withoutSetter",(function(t){return rt(I(t),t)})),A.f=ut,M.f=st,z.f=ct,b.f=w.f=lt,S.f=ht,E.f=function(t){return rt(R(t),t)},a&&(Y(U.prototype,"description",{configurable:!0,get:function(){return N(this).description}}),s||$(j,"propertyIsEnumerable",ut,{unsafe:!0}))),n({global:!0,wrap:!0,forced:!u,sham:!u},{Symbol:U}),B(_(tt),(function(t){T(t)})),n({target:"Symbol",stat:!0,forced:!u},{for:function(t){var e=String(t);if(h(K,e))return K[e];var i=U(e);return K[e]=i,J[i]=e,i},keyFor:function(t){if(!ot(t))throw TypeError(t+" is not a symbol");if(h(J,t))return J[t]},useSetter:function(){it=!0},useSimple:function(){it=!1}}),n({target:"Object",stat:!0,forced:!u,sham:!a},{create:function(t,e){return void 0===e?x(t):at(x(t),e)},defineProperty:st,defineProperties:at,getOwnPropertyDescriptor:ct}),n({target:"Object",stat:!0,forced:!u},{getOwnPropertyNames:lt,getOwnPropertySymbols:ht}),n({target:"Object",stat:!0,forced:l((function(){S.f(1)}))},{getOwnPropertySymbols:function(t){return S.f(y(t))}}),X)&&n({target:"JSON",stat:!0,forced:!u||l((function(){var t=U();return"[null]"!=X([t])||"{}"!=X({a:t})||"{}"!=X(Object(t))}))},{stringify:function(t,e,i){for(var n,r=[t],o=1;arguments.length>o;)r.push(arguments[o++]);if(n=e,(f(e)||void 0!==t)&&!ot(t))return p(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!ot(e))return e}),r[1]=e,X.apply(null,r)}});U.prototype[q]||k(U.prototype,q,U.prototype.valueOf),L(U,"Symbol"),P[F]=!0},pkCn:function(t,e,i){"use strict";var n=i("0Dky");t.exports=function(t,e){var i=[][t];return!!i&&n((function(){i.call(null,e||function(){throw 1},1)}))}},qePV:function(t,e,i){"use strict";var n=i("g6v/"),r=i("2oRo"),o=i("lMq5"),s=i("busE"),a=i("UTVS"),u=i("xrYK"),c=i("cVYH"),l=i("wE6v"),h=i("0Dky"),p=i("fHMY"),f=i("JBy8").f,d=i("Bs8V").f,y=i("m/L8").f,g=i("WKiH").trim,m=r.Number,v=m.prototype,x="Number"==u(p(v)),_=function(t){var e,i,n,r,o,s,a,u,c=l(t,!1);if("string"==typeof c&&c.length>2)if(43===(e=(c=g(c)).charCodeAt(0))||45===e){if(88===(i=c.charCodeAt(2))||120===i)return NaN}else if(48===e){switch(c.charCodeAt(1)){case 66:case 98:n=2,r=49;break;case 79:case 111:n=8,r=55;break;default:return+c}for(s=(o=c.slice(2)).length,a=0;a<s;a++)if((u=o.charCodeAt(a))<48||u>r)return NaN;return parseInt(o,n)}return+c};if(o("Number",!m(" 0o1")||!m("0b1")||m("+0x1"))){for(var b,w=function(t){var e=arguments.length<1?0:t,i=this;return i instanceof w&&(x?h((function(){v.valueOf.call(i)})):"Number"!=u(i))?c(new m(_(e)),i,w):_(e)},S=n?f(m):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),z=0;S.length>z;z++)a(m,b=S[z])&&!a(w,b)&&y(w,b,d(m,b));w.prototype=v,v.constructor=w,s(r,"Number",w)}},r1kq:function(t,e,i){"use strict";(function(t){i("yyme");var e,n=i("2bsz");function r(){if(!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)){var t=["#FF3F8E","#04C2C9","#2E55C1"];e=new n.CanvasSpace("canvas","#252934").display();var i=new n.Form(e),r=[],o=e.size.$divide(1.8),s=-.5*window.innerWidth,a=.05*window.innerWidth;a>150&&(a=150);for(var u=new n.Line(0,s).to(e.size.x,0),c=o.clone(),l=1*Math.min(e.size.x,e.size.y),h=0;h<a;h++){var p=new n.Vector(Math.random()*l-Math.random()*l,Math.random()*l-Math.random()*l);p.moveBy(o).rotate2D(h*Math.PI/a,o),p.brightness=.1,r.push(p)}e.add({animate:function(e,s,a){for(var h=0;h<r.length;h++){var p=r[h];p.rotate2D(n.Const.one_degree/20,o),i.stroke(!1).fill(t[h%3]).point(p,1);var f=new n.Line(p).to(u.getPerpendicularFromPoint(p));Math.min(.8,1-Math.abs(u.getDistanceFromPoint(p))/l);Math.abs(f.getDistanceFromPoint(c))<50?r[h].brightness<.3&&(r[h].brightness+=.015):r[h].brightness>.1&&(r[h].brightness-=.01);var d="rgba(255,255,255,"+r[h].brightness+")";i.stroke(d).fill(!0).line(f)}},onMouseAction:function(t,e,i,n){"move"==t&&c.set(e,i)},onTouchAction:function(t,e,i,n){this.onMouseAction(t,e,i)}}),e.bindMouse(),e.play()}}r(),t(window).resize((function(){e.removeAll(),t("canvas").remove(),r()}))}).call(this,i("EVdn"))},rB9j:function(t,e,i){"use strict";var n=i("I+eb"),r=i("kmMV");n({target:"RegExp",proto:!0,forced:/./.exec!==r},{exec:r})},rNhl:function(t,e,i){var n=i("I+eb"),r=i("fhKU");n({global:!0,forced:parseFloat!=r},{parseFloat:r})},rW0t:function(t,e,i){"use strict";var n=i("glrk");t.exports=function(){var t=n(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},rkAj:function(t,e,i){var n=i("g6v/"),r=i("0Dky"),o=i("UTVS"),s=Object.defineProperty,a={},u=function(t){throw t};t.exports=function(t,e){if(o(a,t))return a[t];e||(e={});var i=[][t],c=!!o(e,"ACCESSORS")&&e.ACCESSORS,l=o(e,0)?e[0]:u,h=o(e,1)?e[1]:void 0;return a[t]=!!i&&!r((function(){if(c&&!n)return!0;var t={length:-1};c?s(t,1,{enumerable:!0,get:u}):t[1]=1,i.call(t,l,h)}))}},rpNk:function(t,e,i){"use strict";var n,r,o,s=i("4WOD"),a=i("kRJp"),u=i("UTVS"),c=i("tiKp"),l=i("xDBR"),h=c("iterator"),p=!1;[].keys&&("next"in(o=[].keys())?(r=s(s(o)))!==Object.prototype&&(n=r):p=!0),null==n&&(n={}),l||u(n,h)||a(n,h,(function(){return this})),t.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:p}},rwPt:function(t,e,i){var n=i("0Dky");t.exports=function(t){return n((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}))}},sEFX:function(t,e,i){"use strict";var n=i("AO7/"),r=i("9d/t");t.exports=n?{}.toString:function(){return"[object "+r(this)+"]"}},sMBO:function(t,e,i){var n=i("g6v/"),r=i("m/L8").f,o=Function.prototype,s=o.toString,a=/^\s*function ([^ (]*)/;n&&!("name"in o)&&r(o,"name",{configurable:!0,get:function(){try{return s.call(this).match(a)[1]}catch(t){return""}}})},uL8W:function(t,e,i){i("I+eb")({target:"Object",stat:!0,sham:!i("g6v/")},{create:i("fHMY")})},wLYn:function(t,e,i){i("I+eb")({target:"Function",proto:!0},{bind:i("BTho")})},wg0c:function(t,e,i){var n=i("2oRo"),r=i("WKiH").trim,o=i("WJkJ"),s=n.parseInt,a=/^[+-]?0[Xx]/,u=8!==s(o+"08")||22!==s(o+"0x16");t.exports=u?function(t,e){var i=r(String(t));return s(i,e>>>0||(a.test(i)?16:10))}:s},yXV3:function(t,e,i){"use strict";var n=i("I+eb"),r=i("TWQb").indexOf,o=i("pkCn"),s=i("rkAj"),a=[].indexOf,u=!!a&&1/[1].indexOf(1,-0)<0,c=o("indexOf"),l=s("indexOf",{ACCESSORS:!0,1:0});n({target:"Array",proto:!0,forced:u||!c||!l},{indexOf:function(t){return u?a.apply(this,arguments)||0:r(this,t,arguments.length>1?arguments[1]:void 0)}})},yyme:function(t,e,i){var n=i("I+eb"),r=i("gdVl"),o=i("RNIs");n({target:"Array",proto:!0},{fill:r}),o("fill")}},[["4asr","runtime",0,1]]]);