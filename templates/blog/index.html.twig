{% extends 'base.html.twig' %}

{% block body_id 'blog_index' %}

{% block stylesheets_pages %}
    <link href="https://unpkg.com/tailwindcss@^1.0/dist/tailwind.min.css" rel="stylesheet"> <!--Replace with your tailwind.css once created-->
{% endblock %}

{% set posts = paginator.results %}

{% block main %}

    <div class="container px-4 md:px-0 mx-auto" style="max-width: 110rem;">
        <div class="mx-5">
{#            <div class="bg-gray-200 w-full text-xl md:text-2xl text-gray-800 leading-normal rounded-t">#}

    {% if posts[0] is defined %}

        <div class="flex h-full bg-white rounded overflow-hidden shadow-lg">
            <a href="{{ path('blog_post', {slug: posts[0].slug}) }}" class="flex flex-wrap no-underline hover:no-underline w-full">
                <div class="w-full md:w-2/3 rounded-t">
                    <img src="{{ asset(pictures_directory ~ posts[0].picture) }}" class="h-full w-full shadow">
                </div>

                <div class="w-full md:w-1/3 flex flex-col flex-grow flex-shrink">
                    <div class="flex-1 bg-white rounded-t rounded-b-none overflow-hidden shadow-lg">
                        <p class="w-full text-gray-600 text-md md:text-md pt-6 px-6"> {{ posts[0].author.fullName }}</p>
                        <div class="w-full font-bold text-5xl text-gray-900 px-6">{{ app.request.locale == "fr" ? posts[0].titleFR : posts[0].titleES }}</div>
                        <p class="text-gray-800 font-serif text-md px-6 mb-5">
                            {{ app.request.locale == "fr" ? posts[0].summaryFR : posts[0].summaryES }}
                        </p>
                    </div>

                    <div class="flex-none mt-auto bg-white rounded-b rounded-t-none overflow-hidden shadow-lg p-6">
                        <div class="flex items-center justify-between">
{#                                        <images class="w-8 h-8 rounded-full mr-4 avatar" data-tippy-content="Author Name" src="http://i.pravatar.cc/300" alt="Avatar of Author">#}
                            <p class="text-gray-600 text-xs md:text-sm">{{ posts[0].publishedAt|format_datetime('long', 'medium', '', 'UTC') }}</p>
                        </div>
                    </div>
                </div>
            </a>
        </div>

    {% endif %}

                <div class="flex flex-wrap justify-between pt-12 -mx-6">

                {% if posts[1] is defined %}

                <div class="w-full md:w-1/3 p-6 flex flex-col flex-grow flex-shrink">
                    <div class="flex-1 bg-white rounded-t rounded-b-none overflow-hidden shadow-lg">
                        <a href="{{ path('blog_post', {slug: posts[1].slug}) }}" class="flex flex-wrap no-underline hover:no-underline">
                            <img src="{{ asset(pictures_directory ~ posts[1].picture) }}" class="w-full rounded-t pb-6">
                            <p class="w-full text-gray-600 text-md md:text-md px-6">{{ posts[1].author.fullName }}</p>
                            <div class="w-full font-bold text-3xl text-gray-900 px-6">{{ app.request.locale == "fr" ? posts[1].titleFR : posts[1].titleES }}</div>
                            <p class="text-gray-800 font-serif text-md px-6 mb-5">
                                {{ app.request.locale == "fr" ? posts[1].summaryFR : posts[1].summaryES }}
                            </p>
                        </a>
                    </div>
                    <div class="flex-none mt-auto bg-white rounded-b rounded-t-none overflow-hidden shadow-lg p-6">
                        <div class="flex items-center justify-between">
                            {# <images class="w-8 h-8 rounded-full mr-4 avatar" data-tippy-content="Author Name" src="http://i.pravatar.cc/300" alt="Avatar of Author">#}
                            <p class="text-gray-600 text-xs md:text-sm">{{ posts[1].publishedAt|format_datetime('long', 'medium', '', 'UTC') }}</p>
                        </div>
                    </div>
                </div>

            {% endif %}

        {% if posts[2] is defined %}

            <div class="w-full md:w-1/3 p-6 flex flex-col flex-grow flex-shrink">
                <div class="flex-1 bg-white rounded-t rounded-b-none overflow-hidden shadow-lg">
                    <a href="{{ path('blog_post', {slug: posts[2].slug}) }}" class="flex flex-wrap no-underline hover:no-underline">
                        <img src="{{ asset(pictures_directory ~ posts[2].picture) }}" class=" w-full rounded-t pb-6">
                        <p class="w-full text-gray-600 text-md md:text-md px-6">{{ posts[2].author.fullName }}</p>
                        <div class="w-full font-bold text-3xl text-gray-900 px-6">{{ app.request.locale == "fr" ? posts[2].titleFR : posts[2].titleES }}</div>
                        <p class="text-gray-800 font-serif text-md px-6 mb-5">
                            {{ app.request.locale == "fr" ? posts[2].summaryFR : posts[2].summaryES }}
                        </p>
                    </a>
                </div>
                <div class="flex-none mt-auto bg-white rounded-b rounded-t-none overflow-hidden shadow-lg p-6">
                    <div class="flex items-center justify-between">
                        {# <images class="w-8 h-8 rounded-full mr-4 avatar" data-tippy-content="Author Name" src="http://i.pravatar.cc/300" alt="Avatar of Author">#}
                        <p class="text-gray-600 text-xs md:text-sm">{{ posts[2].publishedAt|format_datetime('long', 'medium', '', 'UTC') }}</p>
                    </div>
                </div>
            </div>

        {% endif %}

        {% if posts[3] is defined %}

            <div class="w-full md:w-1/3 p-6 flex flex-col flex-grow flex-shrink">
                <div class="flex-1 bg-white rounded-t rounded-b-none overflow-hidden shadow-lg">
                    <a href="{{ path('blog_post', {slug: posts[3].slug}) }}" class="flex flex-wrap no-underline hover:no-underline">
                        <img src="{{ asset(pictures_directory ~ posts[3].picture) }}" class="w-full rounded-t pb-6">
                        <p class="w-full text-gray-600 text-md md:text-md px-6">{{ posts[3].author.fullName }}</p>
                        <div class="w-full font-bold text-3xl text-gray-900 px-6">{{ app.request.locale == "fr" ? posts[3].titleFR : posts[3].titleES }}</div>
                        <p class="text-gray-800 font-serif text-md px-6 mb-5">
                            {{ app.request.locale == "fr" ? posts[3].summaryFR : posts[3].summaryES }}
                        </p>
                    </a>
                </div>
                <div class="flex-none mt-auto bg-white rounded-b rounded-t-none overflow-hidden shadow-lg p-6">
                    <div class="flex items-center justify-between">
                        {# <images class="w-8 h-8 rounded-full mr-4 avatar" data-tippy-content="Author Name" src="http://i.pravatar.cc/300" alt="Avatar of Author">#}
                        <p class="text-gray-600 text-xs md:text-sm">{{ posts[3].publishedAt|format_datetime('long', 'medium', '', 'UTC') }}</p>
                    </div>
                </div>
            </div>

        {% endif %}

        {% if posts[4] is defined %}
            <div class="w-full md:w-1/2 p-6 flex flex-col flex-grow flex-shrink">
                <div class="flex-1 bg-white rounded-t rounded-b-none overflow-hidden shadow-lg">
                    <a href="{{ path('blog_post', {slug: posts[4].slug}) }}" class="flex flex-wrap no-underline hover:no-underline">
                        <img src="{{ asset(pictures_directory ~ posts[4].picture) }}" class="h-full w-full rounded-t pb-6">
                        <p class="w-full text-gray-600 text-md md:text-md px-6">{{ posts[4].author.fullName }}</p>
                        <div class="w-full font-bold text-3xl text-gray-900 px-6">{{ app.request.locale == "fr" ? posts[4].titleFR : posts[4].titleES }}</div>
                        <p class="text-gray-800 font-serif text-md px-6 mb-5">
                            {{ app.request.locale == "fr" ? posts[4].summaryFR : posts[4].summaryES }}
                        </p>
                    </a>
                </div>
                <div class="flex-none mt-auto bg-white rounded-b rounded-t-none overflow-hidden shadow-lg p-6">
                    <div class="flex items-center justify-between">
{#                        <images class="w-8 h-8 rounded-full mr-4 avatar" data-tippy-content="Author Name" src="http://i.pravatar.cc/300" alt="Avatar of Author">#}
                        <p class="text-gray-600 text-xs md:text-sm">{{ posts[4].publishedAt|format_datetime('long', 'medium', '', 'UTC') }}</p>
                    </div>
                </div>
            </div>
        {% endif %}

        {% if posts[5] is defined %}
            <div class="w-full md:w-1/2 p-6 flex flex-col flex-grow flex-shrink">
                <div class="flex-1 bg-white rounded-t rounded-b-none overflow-hidden shadow-lg">
                    <a href="{{ path('blog_post', {slug: posts[5].slug}) }}" class="flex flex-wrap no-underline hover:no-underline">
                        <img src="{{ asset(pictures_directory ~ posts[5].picture) }}" class="h-full w-full rounded-t pb-6">
                        <p class="w-full text-gray-600 text-md md:text-md px-6">{{ posts[5].author.fullName }}</p>
                        <div class="w-full font-bold text-3xl text-gray-900 px-6">{{ app.request.locale == "fr" ? posts[5].titleFR : posts[5].titleES }}</div>
                        <p class="text-gray-800 font-serif text-md px-6 mb-5">
                            {{ app.request.locale == "fr" ? posts[5].summaryFR : posts[5].summaryES }}
                        </p>
                    </a>
                </div>
                <div class="flex-none mt-auto bg-white rounded-b rounded-t-none overflow-hidden shadow-lg p-6">
                    <div class="flex items-center justify-between">
                        {#                        <images class="w-8 h-8 rounded-full mr-4 avatar" data-tippy-content="Author Name" src="http://i.pravatar.cc/300" alt="Avatar of Author">#}
                        <p class="text-gray-600 text-xs md:text-sm">{{ posts[5].publishedAt|format_datetime('long', 'medium', '', 'UTC') }}</p>
                    </div>
                </div>
            </div>
        {% endif %}

        {% if posts[6] is defined %}
            <div class="w-full md:w-2/3 p-6 flex flex-col flex-grow flex-shrink">
                <div class="flex-1 bg-white rounded-t rounded-b-none overflow-hidden shadow-lg">
                    <a href="{{ path('blog_post', {slug: posts[6].slug}) }}" class="flex flex-wrap no-underline hover:no-underline">
                        <img src="{{ asset(pictures_directory ~ posts[6].picture) }}" class="h-full w-full rounded-t pb-6">
                        <p class="w-full text-gray-600 text-md md:text-md px-6">{{ posts[6].author.fullName }}</p>
                        <div class="w-full font-bold text-3xl text-gray-900 px-6">{{ app.request.locale == "fr" ? posts[6].titleFR : posts[6].titleES }}</div>
                        <p class="text-gray-800 font-serif text-md px-6 mb-5">
                            {{ app.request.locale == "fr" ? posts[6].summaryFR : posts[6].summaryES }}
                        </p>
                    </a>
                </div>
                <div class="flex-none mt-auto bg-white rounded-b rounded-t-none overflow-hidden shadow-lg p-6">
                    <div class="flex items-center justify-between">
{#                        <images class="w-8 h-8 rounded-full mr-4 avatar" data-tippy-content="Author Name" src="http://i.pravatar.cc/300" alt="Avatar of Author">#}
                        <p class="text-gray-600 text-xs md:text-sm">{{ posts[6].publishedAt|format_datetime('long', 'medium', '', 'UTC') }}</p>
                    </div>
                </div>
            </div>
        {% endif %}

        {% if posts[7] is defined %}
            <div class="w-full md:w-1/3 p-6 flex flex-col flex-grow flex-shrink">
                <div class="flex-1 bg-white rounded-t rounded-b-none overflow-hidden shadow-lg">
                    <a href="{{ path('blog_post', {slug: posts[7].slug}) }}" class="flex flex-wrap no-underline hover:no-underline">
                        <img src="{{ asset(pictures_directory ~ posts[7].picture) }}" class="h-full w-full rounded-t pb-6">
                        <p class="w-full text-gray-600 text-md md:text-md px-6">{{ posts[7].author.fullName }}</p>
                        <div class="w-full font-bold text-3xl text-gray-900 px-6">{{ app.request.locale == "fr" ? posts[7].titleFR : posts[7].titleES }}</div>
                        <p class="text-gray-800 font-serif text-md px-6 mb-5">
                            {{ app.request.locale == "fr" ? posts[7].summaryFR : posts[7].summaryES }}
                        </p>
                    </a>
                </div>
                <div class="flex-none mt-auto bg-white rounded-b rounded-t-none overflow-hidden shadow-lg p-6">
                    <div class="flex items-center justify-between">
                        {#                        <images class="w-8 h-8 rounded-full mr-4 avatar" data-tippy-content="Author Name" src="http://i.pravatar.cc/300" alt="Avatar of Author">#}
                        <p class="text-gray-600 text-xs md:text-sm">{{ posts[7].publishedAt|format_datetime('long', 'medium', '', 'UTC') }}</p>
                    </div>
                </div>
            </div>
        {% endif %}


                </div>

{#            </div>#}
        </div>
    </div>


{#    {% for post in paginator.results %}#}
{#        <article class="post">#}
{#            <div class="row my-3">#}
{#                <div class="col-md-12">#}
{#                    <h2>#}
{#                        <a href="{{ path('blog_post', {slug: post.slug}) }}">#}
{#                            {{ app.request.locale == "fr" ? post.titleFR : post.titleES }}#}
{#                        </a>#}
{#                    </h2>#}

{#                    <p class="post-metadata">#}
{#                        <span class="metadata"><i class="fa fa-calendar"></i> {{ post.publishedAt|format_datetime('long', 'medium', '', 'UTC') }}</span>#}
{#                        <span class="metadata"><i class="fa fa-user"></i> {{ post.author.fullName }}</span>#}
{#                    </p>#}

{#                    <p>{{ app.request.locale == "fr" ? post.summaryFR : post.summaryES }}</p>#}

{#                    {{ include('blog/_post_tags.html.twig') }}#}
{#                </div>#}
{#                <div class="col-md-4">#}
{#                    <images src="{{ asset(pictures_directory ~ post.picture) }}" class="h-auto" style="max-width: 100%; max-height: 500px;">#}
{#                </div>#}
{#            </div>#}
{#        </article>#}
{#    {% else %}#}
{#        <div class="well">{{ 'post.no_posts_found'|trans }}</div>#}
{#    {% endfor %}#}

    {% if paginator.hasToPaginate %}
        <div class="navigation text-center">
            <ul class="pagination">
                {% if paginator.hasPreviousPage %}
                    <li class="prev"><a href="{{ path('blog_index_paginated', {page: paginator.previousPage, tag: tagName}) }}" rel="previous"><i class="fa fw fa-long-arrow-left"></i> {{ 'paginator.previous'|trans }}</a></li>
                {% else %}
                    <li class="prev disabled"><span><i class="fa fw fa-arrow-left"></i> {{ 'paginator.previous'|trans }}</span></li>
                {% endif %}

                {% for i in 1..paginator.lastPage %}
                    {% if i == paginator.currentPage %}
                        <li class="active"><span>{{ i }} <span class="sr-only">{{ 'paginator.current'|trans }}</span></span></li>
                    {% else %}
                        <li><a href="{{ path('blog_index_paginated', {page: i, tag: tagName}) }}">{{ i }}</a></li>
                    {% endif %}
                {% endfor %}

                {% if paginator.hasNextPage %}
                    <li class="next"><a href="{{ path('blog_index_paginated', {page: paginator.nextPage, tag: tagName}) }}" rel="next">{{ 'paginator.next'|trans }} <i class="fa fw fa-arrow-right"></i></a></li>
                {% else %}
                    <li class="next disabled"><span>{{ 'paginator.next'|trans }} <i class="fa fw fa-arrow-right"></i></span></li>
                {% endif %}
            </ul>
        </div>
    {% endif %}
{% endblock %}

{% block sidebar %}
    {{ parent() }}

{#    {{ show_source_code(_self) }}#}
{#    {{ include('blog/_rss.html.twig') }}#}
{% endblock %}
